(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48125c25"],{"0996":function(e,t,a){"use strict";a.r(t);var c=a("7a23"),n=a("9062"),o=a.n(n),l=(a("e40d"),a("a5a1")),r=a("7c27"),s=(a("14d9"),a("3bc9")),i=a("3d20"),d=a.n(i),u=a("451b");const b={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5"},p=Object(c["createElementVNode"])("path",{d:"m5.433 13.917 1.262-3.155A4 4 0 0 1 7.58 9.42l6.92-6.918a2.121 2.121 0 0 1 3 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 0 1-.65-.65Z"},null,-1),m=Object(c["createElementVNode"])("path",{d:"M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0 0 10 3H4.75A2.75 2.75 0 0 0 2 5.75v9.5A2.75 2.75 0 0 0 4.75 18h9.5A2.75 2.75 0 0 0 17 15.25V10a.75.75 0 0 0-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5Z"},null,-1),j=[p,m];function O(e,t){return Object(c["openBlock"])(),Object(c["createElementBlock"])("svg",b,j)}var f=a("d959"),v=a.n(f);const k={},y=v()(k,[["render",O]]);var h=y,g=a("a18c");const w={class:"min-w-full table-auto text-sm xl:text-base"},V=Object(c["createElementVNode"])("thead",null,[Object(c["createElementVNode"])("tr",{class:"bg-white border-b border-gray-300 text-gray-400"},[Object(c["createElementVNode"])("th",{class:"w-20 py-4"}," № "),Object(c["createElementVNode"])("th",{class:"py-4 pl-3"}),Object(c["createElementVNode"])("th",{class:"text-left py-4 pl-3"}," F.I.Sh "),Object(c["createElementVNode"])("th",{class:"py-4 pl-3"}," Tug’ilgan yili "),Object(c["createElementVNode"])("th",{class:"py-4 pl-3"}," Lavozimi "),Object(c["createElementVNode"])("th",{class:"py-4 pl-3"}," Markaz filiali "),Object(c["createElementVNode"])("th")])],-1),x={class:"w-20 py-4"},E={class:"text-center"},N=["src"],B={class:"py-4 overflow-hidden overflow-ellipsis"},z={class:"flex items-center"},C={class:"text-center px-3 py-4"},_={key:0},L={class:"text-center px-3 py-4"},W={key:0},D={class:"text-center px-3 py-4"},M={key:0},S={class:"text-center px-3 py-4"},T={key:0},U={class:"flex items-center gap-1 mx-auto"},A=["onClick"],H=["onClick"];var q={__name:"TableWorkers",props:{tableBody:{type:Array,required:!0},viewFor:{type:String}},setup(e){function t(e){d.a.fire({title:"Haqiqatdan ham o'chirishni istaysizmi?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#DD6C6C",cancelButtonColor:"#06B68C",cancelButtonText:"Bekor qilish",confirmButtonText:"Ha o'chiraman"}).then(async t=>{t.isConfirmed&&u["a"].delete("/auth/users/"+e.id+"/").then(()=>{window.location.reload()})})}function a(e){console.log(e),g["a"].push({name:"EditWorker",params:{id:e.id}})}return(e,n)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("table",w,[V,Object(c["createElementVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(e.$props.tableBody,(e,n)=>(Object(c["openBlock"])(),Object(c["createElementBlock"])("tr",{key:e.id,class:"text-gray-800 odd:bg-white even:bg-grayPrimary rounded-3xl"},[Object(c["createElementVNode"])("td",x,[Object(c["createElementVNode"])("div",E,Object(c["toDisplayString"])(n+1),1)]),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("img",{src:e.photo,class:"rounded-full h-10 w-10 object-cover",alt:""},null,8,N)]),Object(c["createElementVNode"])("td",B,[Object(c["createElementVNode"])("div",z,Object(c["toDisplayString"])(""+e.full_name)+" ",1)]),Object(c["createElementVNode"])("td",C,[e.birth_date?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",_,Object(c["toDisplayString"])(e.birth_date),1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",L,[e.position?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",W,Object(c["toDisplayString"])(e.position),1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",D,[e.markaz?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",M,Object(c["toDisplayString"])(e.markaz),1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",S,[e.markaz_tuman?(Object(c["openBlock"])(),Object(c["createElementBlock"])("span",T,Object(c["toDisplayString"])(e.markaz_tuman),1)):Object(c["createCommentVNode"])("",!0)]),Object(c["createElementVNode"])("td",null,[Object(c["createElementVNode"])("div",U,[Object(c["createElementVNode"])("button",{class:"px-2 flex gap-4 py-2 text-primary hover:text-white hover:bg-primary rounded-md",onClick:t=>a(e)},[Object(c["createVNode"])(h)],8,A),Object(c["createElementVNode"])("button",{class:"px-2 flex gap-4 py-2 text-primary hover:text-white hover:bg-primary rounded-md",onClick:a=>t(e)},[Object(c["createVNode"])(s["a"])],8,H)])])]))),128))])]))}};const F=q;var P=F,R=a("2eed"),I=a("8b9c"),J=a("e19e"),X=a("4262"),Z=a("98c2"),$=a("6d74"),G=a("5502");const K={class:"w-full flex justify-between items-center"},Q={key:0,class:"grid grid-cols-2 md:grid-cols-3 gap-4 2xl:w-[60%]"},Y={key:0,class:"form_wrapper my-3"},ee={key:1,class:"form_wrapper my-3"},te={class:"form_wrapper my-3"};var ae={__name:"TableWorkersWrapper",props:{fetchWorkersListHandler:{type:Function},selectedWorker:{type:Object},updateWorkersList:{type:Boolean,default:!0}},emits:["update:selectedWorker","see","delete","edit"],setup(e,{emit:t}){const a=e,{alertThisError:n}=Object(J["a"])(),s=Object(G["b"])(),i="Direktor",d=Object(c["computed"])(()=>s.getters["getUserInfo"].role===i),u=4,b=3,{updateWorkersList:p}=Object(c["toRefs"])(a);Object(c["watch"])(()=>p.value,e=>{e&&E()});const m=Object(c["ref"])(!0),j=Object(c["ref"])([]),{markazsList:O}=Object(X["a"])(),f=Object(c["ref"])(null),{positionsList:v}=Object(Z["a"])(),k=Object(c["ref"])(null),{regionList:y}=Object($["a"])(),h=Object(c["ref"])(null);Object(c["watch"])(()=>v.value,()=>{k.value=b});const{currentPage:g,pageSize:w,allPagesCount:V,pageSizeOptions:x}=Object(R["a"])([5,7,10]),E=async e=>{try{m.value=!0;const t=await a.fetchWorkersListHandler({...e});j.value=null===t||void 0===t?void 0:t.results,console.log(j.value),V.value=null===t||void 0===t?void 0:t.num_pages,g.value=null===t||void 0===t?void 0:t.current,m.value=!1}catch(t){n(t)}};return Object(c["watch"])([w,g,f,k,h],async([e,t,a,c,n])=>{await E({page:t,page_size:e,markaz:a,[c===u?"markaz_tuman":""]:n,position:c})},{immediate:!0}),(e,t)=>(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["unref"])(r["a"]),{"current-page":Object(c["unref"])(g),"onUpdate:current-page":t[4]||(t[4]=e=>Object(c["isRef"])(g)?g.value=e:null),"page-size":Object(c["unref"])(w),"onUpdate:page-size":t[5]||(t[5]=e=>Object(c["isRef"])(w)?w.value=e:null),"all-pages-count":Object(c["unref"])(V),"page-size-options":Object(c["unref"])(x),onTableOptionsChanged:E},{"filter-additional-content":Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",K,[Object(c["unref"])(d)?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Q,[k.value!==u?(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",Y,[Object(c["createVNode"])(Object(c["unref"])(l["a"]),{id:"center",modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=e=>f.value=e),class:"w-full",options:Object(c["unref"])(O),"show-by":"name","track-by":"id",placeholder:"Markazni tanlang"},null,8,["modelValue","options"])])):(Object(c["openBlock"])(),Object(c["createElementBlock"])("div",ee,[Object(c["createVNode"])(Object(c["unref"])(l["a"]),{id:"center",modelValue:h.value,"onUpdate:modelValue":t[1]||(t[1]=e=>h.value=e),class:"w-full",options:Object(c["unref"])(I["a"])(Object(c["unref"])(y),"name","id","Markaz - tuman tanlang"),"show-by":"name","track-by":"id",placeholder:"Markaz - tuman  tanlang"},null,8,["modelValue","options"])])),Object(c["createElementVNode"])("div",te,[Object(c["createVNode"])(Object(c["unref"])(l["a"]),{id:"center",modelValue:k.value,"onUpdate:modelValue":t[2]||(t[2]=e=>k.value=e),class:"w-full",options:Object(c["unref"])(v),"show-by":"name","track-by":"code",placeholder:"Lavozimni tanlang"},null,8,["modelValue","options"])])]))])]),"table-content":Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",null,[m.value?(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["unref"])(o.a),{key:0,active:m.value,"onUpdate:active":t[3]||(t[3]=e=>m.value=e),"can-cancel":!1,"is-full-page":!0,color:"#4785FE",loader:"dots"},null,8,["active"])):(Object(c["openBlock"])(),Object(c["createBlock"])(Object(c["unref"])(P),{key:1,"table-body":j.value,"view-for":"minors"},null,8,["table-body"]))])]),_:1},8,["current-page","page-size","all-pages-count","page-size-options"]))}};const ce=ae;var ne=ce;const oe={async getWorkersList(e={}){try{return(await u["a"].get("/auth/users",{params:{...e}})).data}catch(t){console.log(t)}}};var le=oe,re=a("2e00");const se={class:"bg-white rounded-md overflow-hidden"},ie={class:"flex items-center justify-between py-[8px] px-[24px]"},de={class:"flex items-center gap-6"},ue=Object(c["createElementVNode"])("span",null," Xodim qo'shish ",-1);var be={__name:"Workers",setup(e){const t=Object(c["ref"])(!1),a=Object(c["ref"])(null),{getWorkersList:n}=le;return(e,o)=>{const l=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",se,[Object(c["createElementVNode"])("div",ie,[Object(c["createVNode"])(Object(c["unref"])(re["a"]),null,{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(" Xodimlar ro`yxati ")]),_:1}),Object(c["createElementVNode"])("div",de,[Object(c["createVNode"])(l,{to:"/select-worker-position",class:"bg-primary text-white px-[12px] py-[6px] rounded-md"},{default:Object(c["withCtx"])(()=>[ue]),_:1})])]),Object(c["createVNode"])(Object(c["unref"])(ne),{modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e),"update-workers-list":t.value,"fetch-workers-list-handler":Object(c["unref"])(n),onDelete:e.deleteWorker},null,8,["modelValue","update-workers-list","fetch-workers-list-handler","onDelete"])])}}};const pe=be;t["default"]=pe},4262:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var c=a("7a23"),n=a("4b59");function o(){const e=Object(c["ref"])([]),t=async()=>{const{data:t}=await n["a"].fetchMarkazs();e.value=[{id:"",region:"Toshkent shahri",name:"Markazni tanlang"},...t]};return Object(c["onMounted"])(async()=>{await t()}),{markazsList:e}}},"6d74":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var c=a("7a23"),n=a("4b59");function o(){const e=Object(c["ref"])([]),t=async t=>{var a;console.log(t);let c=null;null!==t&&void 0!==t&&null!==(a=t.target)&&void 0!==a&&a.value&&(c=t.target.value);const{data:o}=await n["a"].fetchRegion(c);e.value=[...o]};return Object(c["onMounted"])(async()=>{await t()}),{regionList:e,fetchPositions:t}}},"98c2":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var c=a("7a23"),n=a("4b59");function o(){const e=Object(c["ref"])([]),t=async()=>{const{data:t}=await n["a"].fetchPositions();e.value=t};return Object(c["onMounted"])(async()=>{await t()}),{positionsList:e}}},b7a4:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var c=a("0180");function n(){const e=Object(c["b"])();function t(t,a=["success","error","danger","info"][0]){e(t,{type:a})}return{alertIt:t}}}}]);
//# sourceMappingURL=chunk-48125c25.6546b6c9.js.map