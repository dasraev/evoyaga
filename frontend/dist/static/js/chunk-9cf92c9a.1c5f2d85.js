(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9cf92c9a"],{"1a02":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("7a23"),c=a("4b59");function l(){const e=Object(n["ref"])([]),t=async()=>{const{data:t}=await c["a"].fetchSchoolTypes();e.value=t};return Object(n["onMounted"])(async()=>{await t()}),{schoolTypes:e}}},2145:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),c=a("9062"),l=a.n(c),r=(a("e40d"),a("14d9"),a("3bc9"));const i={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},o=Object(n["createElementVNode"])("path",{fill:"currentColor",d:"M12 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5a5 5 0 0 1 5-5a5 5 0 0 1 5 5a5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"},null,-1),s=[o];function u(e,t,a,c,l,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("svg",i,s)}var d={name:"MdiEye"},b=a("d959"),p=a.n(b);const j=p()(d,[["render",u]]);var v=j,m=a("3d20"),y=a.n(m),O=a("451b");const f={class:"min-w-full table-auto text-sm xl:text-base"},h={class:"bg-white border-b border-gray-300 text-gray-400"},g=Object(n["createElementVNode"])("th",{class:"w-20 py-4"}," T/r ",-1),_=Object(n["createElementVNode"])("th",{class:"text-left py-4 pl-3"}," F.I.Sh ",-1),w=Object(n["createElementVNode"])("th",{class:"py-4 pl-3"}," Markazga qabul qilingan ",-1),V=Object(n["createElementVNode"])("th",{class:"py-4 pl-3"}," Holati ",-1),N=Object(n["createElementVNode"])("th",{class:"py-4 pl-3"}," Taqsimlagan ",-1),x=Object(n["createElementVNode"])("th",{class:"py-4"}," Ma'lumot ",-1),E=Object(n["createElementVNode"])("th",{class:"py-4"},null,-1),B=Object(n["createElementVNode"])("th",{class:"py-4"},null,-1),k={class:"w-20 py-4"},C={class:"text-center"},D={class:"py-4 overflow-hidden overflow-ellipsis"},J={class:"flex items-center"},S={class:"text-center px-3 py-4"},I={key:0},T={class:"text-center px-3 py-4"},$={key:0},z={class:"text-center px-3 py-4"},R={key:0},M={class:"text-center px-3 py-4"},q={key:0},A={class:""},L={class:"flex items-center gap-2"},U=["onClick"],H=["onClick"];var F={__name:"TableJuveniles",props:{tableBody:{type:Array,required:!0}},emits:["sort-by-date"],setup(e){function t(e){y.a.fire({title:"Haqiqatdan ham o'chirishni istaysizmi?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#DD6C6C",cancelButtonColor:"#06B68C",cancelButtonText:"Bekor qilish",confirmButtonText:"Ha o'chiraman"}).then(async t=>{t.isConfirmed&&O["a"].delete(`/api/juvenile/juvenile_delete/${e.id}/`).then(()=>{window.location.reload()})})}return(e,a)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("table",f,[Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",h,[g,_,Object(n["createElementVNode"])("th",{class:"py-4 pl-3 cursor-pointer",onClick:a[0]||(a[0]=t=>e.$emit("sort-by-date"))}," Tugâ€™ilgan sanasi "),w,V,N,x,E,B])]),Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.$props.tableBody,(a,c)=>{var l,i;return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:a.id,class:"text-gray-800 odd:bg-white even:bg-grayPrimary !hover:bg-gray-200"},[Object(n["createElementVNode"])("td",k,[Object(n["createElementVNode"])("div",C,Object(n["toDisplayString"])(c+1),1)]),Object(n["createElementVNode"])("td",D,[Object(n["createElementVNode"])("div",J,Object(n["toDisplayString"])(`${a.first_name} ${a.last_name} ${a.father_name}`),1)]),Object(n["createElementVNode"])("td",S,[a.birth_date?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",I,Object(n["toDisplayString"])(a.birth_date),1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("td",T,[a.time_arrival_center?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",$,Object(n["toDisplayString"])(a.time_arrival_center),1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("td",z,[null!==a&&void 0!==a&&null!==(l=a.status)&&void 0!==l&&l.text?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",R,Object(n["toDisplayString"])(null===a||void 0===a||null===(i=a.status)||void 0===i?void 0:i.text),1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("td",M,[a.time_departure_center?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",q,Object(n["toDisplayString"])(a.time_departure_center),1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("td",A,[Object(n["createElementVNode"])("div",L,[Object(n["createElementVNode"])("button",{class:"mx-auto px-4 flex gap-4 py-2 text-primary hover:text-white hover:bg-primary rounded-md",onClick:t=>e.$router.push("/teenager/"+a.id)},[Object(n["createTextVNode"])(" Ko'rish "),Object(n["createVNode"])(v,{width:"20",height:"20"})],8,U),Object(n["createElementVNode"])("button",{class:"px-2 flex py-2 text-primary hover:text-white hover:bg-primary rounded-md",onClick:e=>t(a)},[Object(n["createVNode"])(r["a"])],8,H)])])])}),128))])]))}};const P=F;var K=P,G=a("7c27"),Q=a("1a02"),W=a("b4b5"),X=a("2eed"),Y=a("4b59");function Z(){const e=Object(n["ref"])([]),t=async()=>{const{data:t}=await Y["a"].fetchJuvenileStatuses();e.value=t};return Object(n["onMounted"])(async()=>{await t()}),{juvenileStatuses:e}}var ee=a("a5a1"),te=a("8b9c"),ae=a("2e00"),ne=a("89ed"),ce=a("e19e"),le=a("5779"),re=a("5502");const ie={class:"bg-white rounded-md p-3"},oe={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},se={class:"form_wrapper my-3"},ue={class:"form_wrapper my-3"},de={class:"form_wrapper my-3"},be={class:"flex items-center gap-2 my-3"};var pe={__name:"Juveniles",setup(e){const{fetchJuvenileReportsList:t}=ne["a"],{regionsList:a}=Object(W["a"])(),{schoolTypes:c}=Object(Q["a"])(),{juvenileStatuses:r}=Z(),{currentPage:i,pageSize:o,allPagesCount:s,pageSizeOptions:u}=Object(X["a"])([10,15,20]),d=Object(n["ref"])([]),b=Object(n["ref"])(!0),{alertThisError:p}=Object(ce["a"])(),j=Object(n["ref"])("ASC"),v=Object(n["ref"])(""),m=Object(n["ref"])(""),y=Object(n["ref"])(""),O=Object(n["ref"])(""),f="Apparat",h=Object(re["b"])(),g=(Object(n["computed"])(()=>h.getters["getUserInfo"].role===f),async e=>{try{b.value=!0;const a=await t({...e});d.value=null===a||void 0===a?void 0:a.results,s.value=null===a||void 0===a?void 0:a.num_pages,i.value=null===a||void 0===a?void 0:a.current,b.value=!1}catch(a){p(a)}});function _(){"ASC"===j.value?(j.value="DESC",d.value.sort((function(e,t){return new Date(t.birth_date)-new Date(e.birth_date)}))):(j.value="ASC",d.value.sort((function(e,t){return new Date(e.birth_date)-new Date(t.birth_date)})))}return Object(n["watch"])([y,v,m,o,O],async([e,t,a,n,c])=>{await g({full_name:e,school_type:t,address_region:a,page_size:n,page:1,status:c})}),Object(n["watch"])(()=>i.value,async e=>{await g({full_name:y.value,school_type:v.value,address_region:m.value,page_size:o.value,page:e,status:O.value})},{immediate:!0}),(e,t)=>{const p=Object(n["resolveDirective"])("validate-cyrillic");return Object(n["openBlock"])(),Object(n["createElementBlock"])("section",ie,[Object(n["createVNode"])(Object(n["unref"])(ae["a"]),null,{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(" Bolalar ro'yxati ")]),_:1}),Object(n["createVNode"])(G["a"],{"current-page":Object(n["unref"])(i),"onUpdate:current-page":t[6]||(t[6]=e=>Object(n["isRef"])(i)?i.value=e:null),"page-size":Object(n["unref"])(o),"onUpdate:page-size":t[7]||(t[7]=e=>Object(n["isRef"])(o)?o.value=e:null),"all-pages-count":Object(n["unref"])(s),"page-size-options":Object(n["unref"])(u),onTableOptionsChanged:g},Object(n["createSlots"])({"filter-additional-content":Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",oe,[Object(n["createElementVNode"])("div",se,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"search","onUpdate:modelValue":t[0]||(t[0]=e=>y.value=e),class:"base_input",name:"search",placeholder:"F.I.SH bo'yicha qidirish",type:"text"},null,512),[[n["vModelText"],y.value],[p]])]),Object(n["createElementVNode"])("div",ue,[Object(n["createVNode"])(Object(n["unref"])(ee["a"]),{id:"address_region",modelValue:m.value,"onUpdate:modelValue":t[1]||(t[1]=e=>m.value=e),options:Object(n["unref"])(te["a"])(Object(n["unref"])(a),"name","id","Barcha viloyatlar bo'yicha"),placeholder:"Viloyat bo'yicha","show-by":"name","track-by":"id"},null,8,["modelValue","options"])]),Object(n["createElementVNode"])("div",de,[Object(n["createVNode"])(Object(n["unref"])(ee["a"]),{id:"school_type",modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=e=>v.value=e),options:Object(n["unref"])(te["a"])(Object(n["unref"])(c),"text","id","Barcha muassasa turlari bo'yicha"),placeholder:"Ta`lim muassasa bo'yicha","show-by":"text","track-by":"id"},null,8,["modelValue","options"])]),Object(n["createElementVNode"])("div",be,[Object(n["createVNode"])(Object(n["unref"])(ee["a"]),{id:"status",modelValue:O.value,"onUpdate:modelValue":t[3]||(t[3]=e=>O.value=e),options:Object(n["unref"])(te["a"])(Object(n["unref"])(r),"text","id","Barcha holatlar bo'yicha "),placeholder:"Holatlar bo'yicha","show-by":"text","track-by":"id"},null,8,["modelValue","options"]),Object(n["createElementVNode"])("button",{class:"base_input !w-auto",onClick:t[4]||(t[4]=t=>e.$router.go())},[Object(n["createVNode"])(Object(n["unref"])(le["a"]),{icon:"mdi:close"})])])])]),_:2},[b.value?{name:"loading",fn:Object(n["withCtx"])(()=>[Object(n["createVNode"])(Object(n["unref"])(l.a),{active:b.value,"onUpdate:active":t[5]||(t[5]=e=>b.value=e),"can-cancel":!1,"is-full-page":!1,color:"#4785FE",loader:"dots"},null,8,["active"])]),key:"0"}:{name:"table-content",fn:Object(n["withCtx"])(()=>[Object(n["createVNode"])(Object(n["unref"])(K),{"table-body":d.value,onSortByDate:_},null,8,["table-body"])]),key:"1"}]),1032,["current-page","page-size","all-pages-count","page-size-options"])])}}};const je=pe;t["default"]=je},"89ed":function(e,t,a){"use strict";var n=a("451b");const c={async fetchJuvenileById(e){const{data:t}=await n["a"].get(`/api/juvenile/juveniles/${e}/`);return t},async fetchJuvenileInfoDetailById(e){const{data:t}=await n["a"].get(`/api/juvenile/juveniles/${e}/juvenile_info_detail/`);return t},async fetchJuvenilesList(e={}){return(await n["a"].get("/api/juvenile/juveniles/",{params:e})).data},async fetchJuvenileReportsList(e={}){return(await n["a"].get("/api/juvenile/reports/",{params:{...e}})).data},async fetchJuvenileReportById(e){const{data:t}=await n["a"].get(`/api/juvenile/is_filled/${e}/`);return t},async fetchJuvenileReportsInfoById(e){const{data:t}=await n["a"].get("/api/juvenile/reports/"+e);return t},async fetchAcceptedJuvenilesInfo(e){const{data:t}=await n["a"].get(`/api/juvenile/accepted_for_edit/${e}/`);return t},async acceptJuvenileToCenter(e,t){return await n["a"].post("/api/juvenile/juveniles/accept_juvenile/",t,{params:{juvenile_id:e}})},async createAvailableJuvenile(e){return await n["a"].post("/api/juvenile/juveniles/create_available_juvenile/?juvenile_id="+e)},async updateJuvenile(e,t){return await n["a"].put("/api/juvenile/juveniles/"+t,e)},async createJuvenilePersonalInfo(e){return await n["a"].post("/api/juvenile/juveniles/",e)},async createJuvenileAddressInfo(e,t){return await n["a"].post(`/api/juvenile/juveniles/${e}/juvenile_addressinfo_create_or_update/`,t)},async createJuvenileEducationInfo(e,t){return await n["a"].post(`/api/juvenile/juveniles/${e}/juvenile_educationinfo_create_or_update/`,t)},async getDeterminedJuvenilesList(e){const t=(await n["a"].get("/api/juvenile/juveniles/incomplete_juveniles/",{params:e})).data,a=t.results.map(e=>{var t,a,n,c;return{birth_date:null===(t=e.personal_info)||void 0===t?void 0:t.birth_date,father_name:null===(a=e.personal_info)||void 0===a?void 0:a.father_name,first_name:null===(n=e.personal_info)||void 0===n?void 0:n.first_name,last_name:null===(c=e.personal_info)||void 0===c?void 0:c.last_name,...e}});return{...t,results:a}},async getNotDefinedJuvenilesList(e){return(await n["a"].get("/api/juvenile/juveniles/unidentified_juveniles",{params:e})).data},async delete_incomplete_juvenile(e){return await n["a"].delete(`/api/juvenile/juveniles/${e}/delete_incomplete_juvenile/`)},async delete_unidentified_juvenile(e){return await n["a"].delete(`/api/juvenile/juveniles/${e}/delete_unidentified_juvenile/`)}};t["a"]=c},b4b5:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("7a23"),c=a("ba1a");function l(e){const t=Object(n["ref"])([]),a=async()=>{const{data:e}=await c["a"].fetchRegions();t.value=e};return Object(n["onMounted"])(async()=>{await a()}),{regionsList:t}}},b7a4:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("0180");function c(){const e=Object(n["b"])();function t(t,a=["success","error","danger","info"][0]){e(t,{type:a})}return{alertIt:t}}},ba1a:function(e,t,a){"use strict";var n=a("451b");const c={async fetchRegions(){try{return await n["a"].get("api/info/regions/")}catch(e){console.log(e)}},async fetchDistrictsByRegionId(e){try{return await n["a"].get("/api/info/districts/ByRegionId/",{params:{region:e.target.value}})}catch(t){console.log(t)}},async fetchMahallaByDistrictId(e){try{return await n["a"].get("api/info/mahalla/ByDistrictId/",{params:{district:e.target.value}})}catch(t){console.log(t)}}};t["a"]=c}}]);
//# sourceMappingURL=chunk-9cf92c9a.1c5f2d85.js.map