(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37483694"],{"243a":function(e,t,a){"use strict";a("7ca4")},"281e":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),i=a("1f2e"),c=a("5a0c"),r=a.n(c),o=a("5779"),s=a("7c27"),l=a("ee9b"),u=a("2eed"),p=a("4262"),d=a("a5a1"),g=a("5502");const b=e=>(Object(n["pushScopeId"])("data-v-a35225cc"),e=e(),Object(n["popScopeId"])(),e),j={class:"flex flex-col gap-6"},v={class:"flex justify-between align-center w-full"},m={class:"grid grid-cols-5 gap-3 w-[80%]"},y={class:"col-span-2"},f={key:0,class:"bg-white"},h={class:"flex items-center"},O=b(()=>Object(n["createElementVNode"])("th",{class:"w-28"},"T/r",-1)),w={class:"w-28"},k=["title"],x={key:0};var _={__name:"AllDonations",setup(e){const t="Apparat",a=Object(g["b"])(),c=Object(n["computed"])(()=>a.getters["getUserInfo"].role===t),{getDonationsList:b,donations:_}=Object(l["a"])(),{markazsList:B}=Object(p["a"])(),{currentPage:V,pageSize:N,allPagesCount:E,pageSizeOptions:z}=Object(u["a"])([5,10,50]),C=Object(n["ref"])([{text:"F.I.Sh/Tashkilot nomi",value:"name"},{text:"Sana",value:"date"},{text:"Summa",value:"amount"}]),S=Object(n["ref"])(""),D=Object(n["ref"])(""),L=Object(n["ref"])(""),T=Object(n["ref"])(""),P=(e,t)=>Array.isArray(t.value)?e[t.value[0]][t.value[1]]:e[t.value],I=async e=>{const t=await b(e);_.value=null===t||void 0===t?void 0:t.results,E.value=null===t||void 0===t?void 0:t.num_pages};return Object(n["watch"])([V,N,S,D,L,T],async([e,t,a,n,i,c])=>{let[r,o]=a?a.map(e=>new Date(e).toISOString().split("T")[0]):["",""];await I({name:n,amount:i,start_date:r,end_date:o,markaz:c,page:e,page_size:t})},{immediate:!0}),(e,t)=>{const a=Object(n["resolveComponent"])("router-link"),l=Object(n["resolveDirective"])("validate-cyrillic");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",j,[Object(n["createVNode"])(s["a"],{"current-page":Object(n["unref"])(V),"onUpdate:current-page":t[4]||(t[4]=e=>Object(n["isRef"])(V)?V.value=e:null),"page-size":Object(n["unref"])(N),"onUpdate:page-size":t[5]||(t[5]=e=>Object(n["isRef"])(N)?N.value=e:null),"all-pages-count":Object(n["unref"])(E),"page-size-options":Object(n["unref"])(z),onTableOptionsChanged:I},{"filter-additional-content":Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",v,[Object(n["createElementVNode"])("div",m,[Object(n["createElementVNode"])("div",y,[Object(n["createVNode"])(Object(n["unref"])(i["a"]),{modelValue:S.value,"onUpdate:modelValue":t[0]||(t[0]=e=>S.value=e),options:{range:!0,multiCalendars:!0,maxDate:Object(n["unref"])(r.a)().endOf("year").format("YYYY-MM-DD")},placeholder:"Boshlanish va tugash vaqti"},null,8,["modelValue","options"])]),Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"name","onUpdate:modelValue":t[1]||(t[1]=e=>D.value=e),name:"name",class:"base_input",placeholder:"F.I.Sh"},null,512),[[l],[n["vModelText"],D.value]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"amount","onUpdate:modelValue":t[2]||(t[2]=e=>L.value=e),name:"name",class:"base_input",placeholder:"Summa"},null,512),[[l],[n["vModelText"],L.value]]),Object(n["unref"])(c)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",f,[Object(n["createVNode"])(d["a"],{id:"center",modelValue:T.value,"onUpdate:modelValue":t[3]||(t[3]=e=>T.value=e),class:"w-full",options:Object(n["unref"])(B),"show-by":"name","track-by":"id",placeholder:"Markazni tanlang"},null,8,["modelValue","options"])])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",h,[Object(n["createVNode"])(a,{to:"/add-donations",class:"text-white bg-[#4785FE] px-[12px] py-[10px] flex gap-[17px] item-center rounded-[5px] tracking-wide"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(Object(n["unref"])(o["a"]),{icon:"mdi:plus",class:"text-white w-[24px] h-[24px]"}),Object(n["createTextVNode"])(" Xayriya qoâ€˜shish ")]),_:1})])])]),"table-content":Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("table",null,[Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",null,[O,(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(C.value,e=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("th",{key:e.value,class:Object(n["normalizeClass"])([e.class,e.value])},Object(n["toDisplayString"])(e.text),3))),128))])]),Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(Object(n["unref"])(_),(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:t},[Object(n["createElementVNode"])("td",w,Object(n["toDisplayString"])(t+1),1),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(C.value,t=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("td",{key:t.value,title:P(e,t),class:Object(n["normalizeClass"])([t.class,t.value])},["edit"!==t.value?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",x,Object(n["toDisplayString"])(P(e,t)),1)):Object(n["createCommentVNode"])("",!0)],10,k))),128))]))),128))])])]),_:1},8,["current-page","page-size","all-pages-count","page-size-options"])])}}},B=(a("243a"),a("d959")),V=a.n(B);const N=V()(_,[["__scopeId","data-v-1ab55dda"]]);t["default"]=N},"2eed":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a("14d9");var n=a("7a23"),i=a("6605");function c(e=[10,15,20]){const t=Object(i["d"])(),a=Object(i["c"])(),c=Object(n["ref"])(0),r=Object(n["ref"])(1),o=Object(n["ref"])(e),s=Object(n["ref"])(10);function l(e){s.value=e}function u(e){r.value=e}function p(){const{page:e,page_size:t}=null===a||void 0===a?void 0:a.query;e&&(r.value=+e),t&&(s.value=+t)}return p(),Object(n["watch"])(()=>s.value,e=>{e&&t.push({path:a.path,query:{...null===a||void 0===a?void 0:a.query,page_size:e}})}),Object(n["watch"])(()=>r.value,e=>{e&&t.push({path:a.path,query:{...null===a||void 0===a?void 0:a.query,page:e}})}),{allPagesCount:c,currentPage:r,pageSizeOptions:o,pageSize:s,setPageSize:l,setCurrentPage:u}}},4262:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("7a23"),i=a("4b59");function c(){const e=Object(n["ref"])([]),t=async()=>{const{data:t}=await i["a"].fetchMarkazs();e.value=[{id:"",region:"Toshkent shahri",name:"Markazni tanlang"},...t]};return Object(n["onMounted"])(async()=>{await t()}),{markazsList:e}}},"4b59":function(e,t,a){"use strict";var n=a("451b");const i={async fetchArrivedReasons(){return n["a"].get("api/juvenile/juveniles/arrived_reasons/")},async fetchMonitoringTypes(){return n["a"].get("api/juvenile/juveniles/monitoring_status/")},async fetchBasisDistributions(){return await n["a"].get("/api/juvenile/juveniles/basis_distributions/")},async fetchBringingReasonList(){return await n["a"].get("api/info/reason_bringing_child")},async fetchCharactersList(){return await n["a"].get("api/juvenile/juveniles/characters/")},async fetchConvictedTypesList(){return await n["a"].get("/api/juvenile/juveniles/convicted_lists/")},async fetchCountComeBack(){return await n["a"].get("api/juvenile/juveniles/get_came_back_center/")},async fetchCountries(){return await n["a"].get("api/info/countries/")},async fetchDeterminedLocations(){return await n["a"].get("/api/juvenile/juveniles/determined_locations/")},async fetchDistributionTypes(){return await n["a"].get("/api/juvenile/juveniles/distribution_types")},async fetchEducationTypes(){return await n["a"].get("/api/juvenile/juveniles/employment_education_types/")},async fetchGuardianshipTypes(){return await n["a"].get("/api/juvenile/juveniles/type_guardianships/")},async fetchHaveBeenInItmTypes(){return await n["a"].get("/api/juvenile/juveniles/have_been_in_itm_reasons/")},async fetchHaveBeenInRotmTypes(){return await n["a"].get("/api/juvenile/juveniles/have_been_in_rotm_reasons/")},async fetchHealthCareFacility(){return await n["a"].get("/api/juvenile/juveniles/type_healthcare_facility/")},async fetchInspectorTypesList(){return await n["a"].get("/api/juvenile/juveniles/inspector_types")},async fetchITMDirections(){return await n["a"].get("/api/juvenile/juveniles/itm_directions/")},async fetchJuvenileStatuses(){return await n["a"].get("api/juvenile/juveniles/juvenile_statuses")},async fetchLevelsKindship(){return await n["a"].get("api/juvenile/juveniles/level_kindships/")},async fetchMaritalStatuses(){return await n["a"].get("/api/juvenile/juveniles/marital_statuses/")},async fetchMarkazs(){return await(await n["a"].get("/api/info/markazs/"))},async fetchMasteryLevelList(){return await n["a"].get("api/juvenile/juveniles/mastery/")},async fetchMedicalListTypes(){return await n["a"].get("/api/info/medical_list/")},async fetchParentTypesList(){return await n["a"].get("/api/juvenile/juveniles/parent_types/")},async fetchPassportTypes(){return await n["a"].get("/api/juvenile/juveniles/passport_types/")},async fetchPositions(){return await n["a"].get("/auth/groups/")},async fetchROTMDirections(){return await n["a"].get("/api/juvenile/juveniles/rotm_types/")},async fetchSchoolTypes(){return await n["a"].get("/api/juvenile/juveniles/school_types")},async fetchSchoolsListByTypeAndRegionId(e,t){return await n["a"].get("/api/info/schools/ByTypeIdAndDistrictId/",{params:{school_type:e,district:t}})},async fetchKindergartens(e){return await n["a"].get("/api/info/kindergartens/ByDistrictId/",{params:{district:e.target.value}})},async fetchSchoolList(e){return await n["a"].get("/api/info/schools/ByDistrictId/",{params:{district:e.target.value}})},async fetchUniversitiesListByRegionId(e){return await n["a"].get("/api/info/universities/ByRegionId/",{params:{region:e.target.value}})},async fetchCollegesListByRegionId(e){return await n["a"].get("api/info/colleges/ByRegionId/",{params:{region:e.target.value}})},async fetchSpecialEducationListByRegionId(e){return await n["a"].get("/api/info/special_educations/ByRegionId/",{params:{region:e.target.value}})},async fetchVocationalSchoolsListByRegionId(e){return await n["a"].get("/api/info/vocational_schools/ByRegionId/",{params:{region:e.target.value}})},async fetchLitseysListByRegionId(e){return await n["a"].get("/api/info/litsey/ByRegionId/",{params:{region:e.target.value}})},async fetchTexnikumsListByRegionId(e){return await n["a"].get("/api/info/texnikums/ByRegionId/",{params:{region:e.target.value}})},async fetchSubBringingReasonList(e){return await n["a"].get("/api/info/subreasonbringing_child_by_parent/",{params:{parent:e.target.value}})},async fetchWhomGivenList(){return await n["a"].get("/api/juvenile/juveniles/foreign_to_whom_given/")},async fetchRegion(e){return await n["a"].get("/api/info/markaz_tumans/",{params:{region_id:e}})},async fetchPsychologyConditions(){return await n["a"].get("/api/juvenile/psychology-conditions/")}};t["a"]=i},"7c27":function(e,t,a){"use strict";var n=a("7a23");const i={class:"flex bg-white items-center justify-between font-light text-sm xl:text-base py-3 px-4"},c={class:"flex items-center"},r={class:"relative inline-block text-left"},o=Object(n["createElementVNode"])("svg",{class:"-mr-1 ml-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[Object(n["createElementVNode"])("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),s={key:0,class:"origin-top-right absolute z-30 left-0 mt-2 w-20 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},l={class:"py-1",role:"none"},u=["onClick"],p=Object(n["createElementVNode"])("span",{class:"ml-4"},"Koâ€˜rsatish soni",-1),d={class:"flex items-center"},g={class:"mx-2 px-2 py-1 rounded border border-blue-500 ring-1 ring-indigo-600 ring-opacity-70"},b={class:"mx-2"},j=["disabled"],v=Object(n["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(n["createElementVNode"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),m=[v],y=["disabled"],f=Object(n["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(n["createElementVNode"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1),h=[f];var O={__name:"Pagination",props:{allPagesCount:{required:!0,type:Number},pageSize:{required:!0,type:Number},currentPage:{required:!0,type:Number},pageSizeOptions:{type:Array,required:!0}},emits:["page-size-changed","pagination-btn-clicked"],setup(e,{emit:t}){const a=e,v=Object(n["ref"])(!1),f=Object(n["computed"])(()=>a.currentPage===a.allPagesCount||0===a.allPagesCount),O=Object(n["computed"])(()=>1===a.currentPage||0===a.allPagesCount);function w(){t("pagination-btn-clicked","PREV")}function k(){t("pagination-btn-clicked","NEXT")}function x(e){t("page-size-changed",e),v.value=!1}return(t,a)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",i,[Object(n["createElementVNode"])("div",c,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("button",{id:"menu-button",type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500","aria-expanded":"true","aria-haspopup":"true",onClick:a[0]||(a[0]=e=>v.value=!v.value)},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.pageSize)+" ",1),o])]),v.value?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",s,[Object(n["createElementVNode"])("div",l,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.pageSizeOptions,e=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("a",{id:"menu-item-0",key:e,class:"text-gray-700 block px-4 py-2 text-sm active:bg-gray-100 active:text-gray-900",role:"menuitem",tabindex:"-1",onClick:t=>x(e)},Object(n["toDisplayString"])(e),9,u))),128))])])):Object(n["createCommentVNode"])("",!0)]),p]),Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("p",null,[Object(n["createElementVNode"])("span",g,Object(n["toDisplayString"])(e.currentPage),1),Object(n["createTextVNode"])(" dan "),Object(n["createElementVNode"])("span",b,Object(n["toDisplayString"])(e.allPagesCount),1)]),Object(n["createElementVNode"])("button",{class:Object(n["normalizeClass"])(["px-1 py-1 mr-3 rounded bg-gray-200",{"opacity-40 cursor-not-allowed hover:bg-gray-200 hover:text-black":Object(n["unref"])(O),"hover:bg-indigo-600 hover:text-white":!Object(n["unref"])(O)}]),disabled:Object(n["unref"])(O),onClick:w},m,10,j),Object(n["createElementVNode"])("button",{class:Object(n["normalizeClass"])(["px-1 py-1 rounded bg-gray-200",{"opacity-40 cursor-not-allowed hover:bg-gray-200 hover:text-black":Object(n["unref"])(f),"hover:bg-indigo-600 hover:text-white":!Object(n["unref"])(f)}]),disabled:Object(n["unref"])(f),onClick:k},h,10,y)])]))}};const w=O;var k=w;const x={class:"bg-white p-3"},_={class:"bg-white px-3 flex justify-between items-center"};var B={__name:"TableView",props:{allPagesCount:{type:Number,default:1},currentPage:{type:Number,default:1},pageSize:{type:Number,required:!0,default:1},showStatusTab:{type:Boolean,default:!0},pageSizeOptions:{type:Array,default:function(){return[10,15,20,50]}}},emits:["table-options-changed","update:current-page","update:page-size"],setup(e,{emit:t}){const a=e;async function i(e){"PREV"===e&&t("update:current-page",a.currentPage-1),"NEXT"===e&&t("update:current-page",a.currentPage+1)}async function c(e){t("update:page-size",e)}return(t,a)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",x,[Object(n["createElementVNode"])("div",_,[Object(n["renderSlot"])(t.$slots,"filter-additional-content")]),Object(n["renderSlot"])(t.$slots,"loading"),Object(n["renderSlot"])(t.$slots,"table-content"),Object(n["createVNode"])(Object(n["unref"])(k),{"page-size-options":e.pageSizeOptions,"page-size":e.pageSize,"all-pages-count":e.allPagesCount,"current-page":e.currentPage,onPaginationBtnClicked:i,onPageSizeChanged:c},null,8,["page-size-options","page-size","all-pages-count","current-page"])]))}};const V=B;t["a"]=V},"7ca4":function(e,t,a){},"9cec":function(e,t,a){"use strict";var n=a("451b");t["a"]={async getDonationsNotificationList(){return await n["a"].get("api/notifications/donation/notification/")},async getDonationsList(e){return await n["a"].get("api/donations/",{params:e})},async getDonationsNotificationComplete(e){return await n["a"].get(`api/notifications/donation/complete/${e}/`)},async getTotalDonations(){return await n["a"].get("api/donations/total_amount/")},async createDonation(e){return await n["a"].post("api/donations/",e)}}},ee9b:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("7a23"),i=a("9cec");function c(){const e=Object(n["ref"])([]);async function t(e){try{const t=await i["a"].getDonationsList(e);return t.data}catch(t){console.log({error:t})}}async function a(e){try{const t=await i["a"].getDonationsNotificationComplete(e);return t.data}catch(t){console.log({error:t})}}async function c(e){try{const t=await i["a"].createDonation(e);return t.data}catch(t){console.log({error:t})}}return{donations:e,getDonationsList:t,getDonationComplete:a,createDonation:c}}}}]);
//# sourceMappingURL=chunk-37483694.bda6a184.js.map