(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3293f710"],{"142d":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),r=a("451b"),o=a("b7a4"),i=a("7bb1"),c=a("506a"),l=a("b4b5"),s=a("2061"),u=a("a5a1"),d=a("8103");const b={class:"grid grid-cols-3 gap-3 w-full lg:w-[85%]"},m={class:"form_wrapper my-3"},f=Object(n["createElementVNode"])("label",{class:"input_label",for:"name"}," Bo'lim nomi ",-1),p={class:"form_wrapper my-3"},j=Object(n["createElementVNode"])("label",{class:"input_label",for:"region"}," Bo'lim joylashgan viloyat / shahar ",-1),v={class:"form_wrapper my-3"},O=Object(n["createElementVNode"])("label",{class:"input_label",for:"region"}," Bo'lim joylashgan tuman ",-1),g=Object(n["createElementVNode"])("button",{type:"submit",class:"base_input bg-primary text-white border-primary"},"Saqlash",-1);var y={__name:"AddDistrictDepartmentForm",props:{clearFormMode:{type:Boolean,default:!1},initialFields:{type:Object,default:function(){return{}}}},emits:["submit"],setup(e,{emit:t}){const a=e,{clearFormMode:r}=Object(n["toRefs"])(a);Object(n["watch"])(()=>r.value,e=>{!0===e&&k()});const{regionsList:o}=Object(l["a"])(),{districtsList:y,fetchDistrictsByRegionId:h}=Object(d["a"])(),w=c["f"]({name:c["g"]().required(s["d"]),district:c["e"]().required(s["d"])}),{handleSubmit:V,resetForm:k}=Object(i["b"])({validationSchema:w}),E=V(async({name:e,district:a})=>{const n=new FormData;n.append("name",e),n.append("district",a),t("submit",n)}),{value:B,errorMessage:N}=Object(i["a"])("name",{},{initialValue:""}),{value:D,errorMessage:_}=Object(i["a"])("district",{},{initialValue:""});return(e,t)=>{const a=Object(n["resolveDirective"])("validate-cyrillic");return Object(n["openBlock"])(),Object(n["createElementBlock"])("form",{onSubmit:t[3]||(t[3]=(...e)=>Object(n["unref"])(E)&&Object(n["unref"])(E)(...e))},[Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("div",m,[f,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=e=>Object(n["isRef"])(B)?B.value=e:null),name:"name",class:"base_input",placeholder:"Bo'lim nomini kiriting"},null,512),[[a],[n["vModelText"],Object(n["unref"])(B)]]),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(Object(n["unref"])(N)),1)]),Object(n["createElementVNode"])("div",p,[j,Object(n["createVNode"])(Object(n["unref"])(u["a"]),{modelValue:e.region,"onUpdate:modelValue":t[1]||(t[1]=t=>e.region=t),onInput:Object(n["unref"])(h),options:Object(n["unref"])(o),"track-by":"id","show-by":"name",placeholder:"Viloyat / Shaharni tanlang"},null,8,["modelValue","onInput","options"]),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.regionError),1)]),Object(n["createElementVNode"])("div",v,[O,Object(n["createVNode"])(Object(n["unref"])(u["a"]),{modelValue:Object(n["unref"])(D),"onUpdate:modelValue":t[2]||(t[2]=e=>Object(n["isRef"])(D)?D.value=e:null),options:Object(n["unref"])(y),"track-by":"id","show-by":"name",placeholder:"Tuman tanlang"},null,8,["modelValue","options"]),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(Object(n["unref"])(_)),1)])]),g],32)}}};const h=y;var w=h,V=a("2e00"),k=a("e19e"),E=a("c28b");const B={class:"w-full rounded-md bg-white px-[20px] py-[16px]"};var N={__name:"AddDistrictDepartment",setup(e){const{alertIt:t}=Object(o["a"])(),{alertThisError:a}=Object(k["a"])(),{clearForm:i,setClearForm:c}=Object(E["a"])(),l=async e=>{try{const{data:{message:a}}=await r["a"].post("/api/info/markaz_tumans/",e);a&&t(a),c(!0)}catch(n){a(n)}};return(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",B,[Object(n["createVNode"])(Object(n["unref"])(V["a"]),null,{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(" Tizimga markaz qo'shish ")]),_:1}),Object(n["createVNode"])(Object(n["unref"])(w),{"clear-form-mode":Object(n["unref"])(i),onSubmit:l},null,8,["clear-form-mode"])]))}},D=(a("1ce3"),a("d959")),_=a.n(D);const I=_()(N,[["__scopeId","data-v-6362bbef"]]);t["default"]=I},"1ce3":function(e,t,a){"use strict";a("2fca")},2061:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return c}));const n=({path:e})=>"Ushbu maydon to'ldirilishi shart",r=()=>"Xodimni belgilash zarur!",o=e=>`Ushbu maydon eng kami ${e.min} ta bo'lishi kerak`,i=e=>`Ushbu maydon eng ko'pi ${e.max} ta bo'lishi kerak`,c=e=>["is-latin","Iltimos faqat lotin harflaridan foydalaning",e=>{const t=/[^\P{L}a-z][^a-z]*/giu;return!t.test(e)}]},"2e00":function(e,t,a){"use strict";var n=a("7a23");const r={class:"text-2xl my-4"};function o(e,t,a,o,i,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("h1",r,[Object(n["renderSlot"])(e.$slots,"default")])}var i={name:"PageTitle"},c=a("d959"),l=a.n(c);const s=l()(i,[["render",o]]);t["a"]=s},"2fca":function(e,t,a){},8103:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("7a23"),r=a("ba1a");function o(){const e=Object(n["ref"])([]),t=async t=>{const{data:a}=await r["a"].fetchDistrictsByRegionId(t);e.value=a};return{districtsList:e,fetchDistrictsByRegionId:t}}},b4b5:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("7a23"),r=a("ba1a");function o(e){const t=Object(n["ref"])([]),a=async()=>{const{data:e}=await r["a"].fetchRegions();t.value=e};return Object(n["onMounted"])(async()=>{await a()}),{regionsList:t}}},ba1a:function(e,t,a){"use strict";var n=a("451b");const r={async fetchRegions(){try{return await n["a"].get("api/info/regions/")}catch(e){console.log(e)}},async fetchDistrictsByRegionId(e){try{return await n["a"].get("/api/info/districts/ByRegionId/",{params:{region:e.target.value}})}catch(t){console.log(t)}},async fetchMahallaByDistrictId(e){try{return await n["a"].get("api/info/mahalla/ByDistrictId/",{params:{district:e.target.value}})}catch(t){console.log(t)}}};t["a"]=r},c28b:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("7a23");function r(){const e=Object(n["ref"])(!1),t=t=>e.value=t;return{clearForm:e,setClearForm:t}}},e19e:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("b7a4");function r(){const{alertIt:e}=Object(n["a"])(),t=t=>{var a,n,r,o,i,c,l,s,u,d,b;if(console.log({error:t},"UseErrorAlert"),"string"===typeof(null===t||void 0===t||null===(a=t.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message))e(null===t||void 0===t||null===(d=t.response)||void 0===d||null===(b=d.data)||void 0===b?void 0:b.message,"error");else if(null!==t&&void 0!==t&&null!==(r=t.response)&&void 0!==r&&r.data&&"string"!==typeof(null===t||void 0===t||null===(o=t.response)||void 0===o?void 0:o.data)&&null!==t&&void 0!==t&&null!==(i=t.response)&&void 0!==i&&null!==(c=i.data)&&void 0!==c&&c.messages)Object.values(t.response.data.messages).map(t=>{null!==t&&void 0!==t&&t.message&&e(t.message,"error")});else if(Array.isArray(null===t||void 0===t||null===(l=t.response)||void 0===l?void 0:l.data)){var m;null===t||void 0===t||null===(m=t.response)||void 0===m||m.data.map(t=>{e(t,"error")})}else null!==t&&void 0!==t&&null!==(s=t.response)&&void 0!==s&&s.data&&400===(null===t||void 0===t||null===(u=t.response)||void 0===u?void 0:u.status)?Object.values(t.response.data).map(t=>{"string"==typeof t?e(t,"error"):t.map(t=>e(t,"error"))}):e("Server bilan bog'liq xatolik yuz berdi.","error")};return{alertThisError:t}}}}]);
//# sourceMappingURL=chunk-3293f710.edcaf066.js.map