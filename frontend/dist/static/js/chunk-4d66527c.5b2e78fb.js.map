{"version":3,"sources":["webpack:///./src/composables/selectbox-list/useSchoolTypes.js","webpack:///./src/utils/validatorMessages.js","webpack:///./src/views/EditMonitoring.vue","webpack:///./src/views/EditMonitoring.vue?4f09","webpack:///./src/composables/selectbox-list/useMonitoringTypes.js","webpack:///./src/composables/selectbox-list/useCharacters.js","webpack:///./src/composables/selectbox-list/useMasteryLevel.js","webpack:///./src/components/MonitoringForm.vue","webpack:///./src/components/MonitoringForm.vue?cbed","webpack:///./src/services/juveniles.service.js","webpack:///./src/composables/useClearForm.js","webpack:///./src/services/monitoring.service.js"],"names":["useSchoolTypes","schoolTypes","ref","fetchSchoolTypes","async","data","InfoService","value","onMounted","requiredValidatorMessage","path","workerIsRequiredValidatorMessage","minValidatorMessage","args","min","maxValidatorMessage","max","isLatinLetters","regex","test","initialFieldsFromServer","selectedJuvenile","clearForm","setClearForm","useClearForm","loading","alertIt","useAlert","alertThisError","useErrorAlert","fetchJuvenileReportsInfoById","JuvenilesService","fetchJuvenilesMonitoringInfo","editJuvenilesMonitoring","MonitoringService","route","useRoute","updateJuvenilesList","refreshJuvenileList","clearAllFields","handleSubmit","formData","message","id","e","watch","params","distributed_info","console","log","immediate","__exports__","useMonitoringTypes","monitoringTypes","fetchMonitoringTypes","useCharacters","charactersList","fetchCharactersList","useMasteryLevel","masteryLevelList","fetchMasteryLevelList","isSubmitting","resetForm","useForm","clearFormMode","toRefs","props","onInvalidSubmit","values","errors","results","Object","keys","onSubmit","FormData","obj","entries","map","key","val","hasMJTK47","append","push","emit","computed","is_action_been_taken","speciality","errorMessage","specialityError","useField","yup","monitoring_status","monitoring_statusError","required","class_group","class_groupError","class_leader","class_leaderError","address","addressError","mastery","masteryError","character","characterError","is_action_been_takenError","dynamicValidationForReferenceType","nullable","notRequired","file_action_been_taken","file_action_been_takenError","initialValue","deed_and_pictures","deed_and_picturesError","school_type","school_typeError","axios","get","post","juvenile_id","juvenileId","put","response","normalizedResultsList","item","birth_date","personal_info","father_name","first_name","last_name","payload","patch"],"mappings":"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","file":"static/js/chunk-4d66527c.5b2e78fb.js","sourcesContent":["import { onMounted, ref } from \"vue\";\nimport InfoService from \"../../services/info.service\";\n\nexport default function useSchoolTypes() {\n  const schoolTypes = ref([]);\n  const fetchSchoolTypes = async () => {\n    const { data } = await InfoService.fetchSchoolTypes();\n    schoolTypes.value = data;\n  };\n  onMounted(async () => {\n    await fetchSchoolTypes();\n  });\n\n  return {\n    schoolTypes,\n  };\n}\n","//          /^[a-zA-Z\\s.,]+$/\n\nexport const requiredValidatorMessage = ({path}) => {\n  return `Ushbu maydon to'ldirilishi shart`;\n};\nexport const workerIsRequiredValidatorMessage = () => {\n  return 'Xodimni belgilash zarur!';\n};\n\nexport const minValidatorMessage = (args) => {\n  return `Ushbu maydon eng kami ${args.min} ta bo'lishi kerak`;\n};\nexport const maxValidatorMessage = (args) => {\n  return `Ushbu maydon eng ko'pi ${args.max} ta bo'lishi kerak`;\n};\nexport const onlyLatinLetters = (args) => {\n  return `Ushbu maydon faqat lotin harflari bilan to'ldirilishi kerak`;\n};\n\nexport const isLatinLetters = (args) => [\n  'is-latin',\n  'Iltimos faqat lotin harflaridan foydalaning',\n  (value) => {\n    const regex = /[^\\P{L}a-z][^a-z]*/giu;\n    return !regex.test(value);\n  },\n];\n","<template>\n  <section class=\"bg-white p-3 rounded-md\">\n    <PageTitle>\n      Monitoringdagi bolani tahrirlash\n    </PageTitle>\n    <section v-if=\"selectedJuvenile\" class=\"my-4\">\n      <h1 class=\"text-2xl my-4\">\n        Tahrirlanayotgan bolaning shaxsiy ma'lumotlari\n      </h1>\n      <div class=\"flex\">\n        <PassportCard\n          :passport-info=\"selectedJuvenile\"\n        />\n      </div>\n    </section>\n    <section>\n      <MonitoringForm :clear-form-mode=\"clearForm\" :initial-fields=\"initialFieldsFromServer\" @submit=\"handleSubmit\" />\n    </section>\n  </section>\n</template>\n\n<script setup>\nimport MonitoringForm from \"../components/MonitoringForm\";\nimport PassportCard from \"../components/PassportCard\";\nimport {ref, watch} from \"vue\";\nimport useAlert from \"../composables/useAlert\";\nimport PageTitle from \"../components/LayoutItems/PageTitle\";\nimport {useRoute} from \"vue-router\";\nimport JuvenilesService from \"../services/juveniles.service\";\nimport MonitoringService from \"../services/monitoring.service\";\nimport useClearForm from \"../composables/useClearForm\";\nimport useErrorAlert from \"../composables/useErrorAlert\";\n\nconst initialFieldsFromServer = ref(null)\nconst selectedJuvenile = ref(null)\nconst {clearForm,setClearForm}  = useClearForm()\nconst loading = ref(true)\nconst {alertIt} = useAlert()\nconst {alertThisError} = useErrorAlert()\nconst {fetchJuvenileReportsInfoById} = JuvenilesService\nconst {fetchJuvenilesMonitoringInfo,editJuvenilesMonitoring} = MonitoringService\nconst route = useRoute()\nconst updateJuvenilesList = ref(false)\nconst refreshJuvenileList = ()=>{\n  updateJuvenilesList.value = true\n}\n\n\nfunction clearAllFields(){\n  selectedJuvenile.value = null\n  setClearForm(true)\n}\n\nasync function handleSubmit(formData){\n  try {\n    const { message } = (await editJuvenilesMonitoring(formData,selectedJuvenile.value.id)).data\n    await alertIt(message,'success')\n    clearAllFields()\n    refreshJuvenileList()\n  } catch (e) {\n    alertThisError(e)\n  }\n}\n\nwatch(()=>route.params.id,async (id)=>{\n  if(id){\n    loading.value = true;\n    initialFieldsFromServer.value = (await fetchJuvenilesMonitoringInfo(route.params.id))?.distributed_info\n    console.log(initialFieldsFromServer.value);\n    selectedJuvenile.value = (await fetchJuvenileReportsInfoById(route.params.id))\n    loading.value = false;\n  }\n},{\n  immediate:true\n})\n\n</script>\n\n<style scoped>\n\n</style>\n","import script from \"./EditMonitoring.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditMonitoring.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import {onMounted, ref} from 'vue';\nimport InfoService from '../../services/info.service';\n\nexport default function useMonitoringTypes() {\n  const monitoringTypes = ref([]);\n  const fetchMonitoringTypes = async () => {\n    const {data} = await InfoService.fetchMonitoringTypes();\n    monitoringTypes.value = data;\n  };\n  onMounted(async () => {\n    await fetchMonitoringTypes();\n  });\n\n  return {\n    monitoringTypes,\n  };\n}\n","import { onMounted, ref } from \"vue\";\nimport InfoService from \"../../services/info.service\";\n\nexport default function useCharacters() {\n  const charactersList = ref([]);\n  const fetchCharactersList = async () => {\n    const { data } = await InfoService.fetchCharactersList();\n    charactersList.value = data;\n  };\n  onMounted(async () => {\n    await fetchCharactersList();\n  });\n  return {\n    charactersList,\n    fetchCharactersList,\n  };\n}\n","import { onMounted, ref } from \"vue\";\nimport InfoService from \"../../services/info.service\";\n\nexport default function useMasteryLevel() {\n  const masteryLevelList = ref([]);\n  const fetchMasteryLevelList = async () => {\n    const { data } = await InfoService.fetchMasteryLevelList();\n    masteryLevelList.value = data;\n  };\n  onMounted(async () => {\n    await fetchMasteryLevelList();\n  });\n\n  return {\n    masteryLevelList,\n    fetchMasteryLevelList,\n  };\n}\n","<template>\n  <form @submit=\"onSubmit\">\n    <div class=\"grid grid-cols-2 xl:grid-cols-3 gap-4 2xl:w-[60%]\">\n      <div class=\"form_wrapper my-3\">\n        <label class=\"input_label\" for=\"monitoring_status\"> Monitoring holati </label>\n        <SelectBox id=\"monitoring_status\" v-model=\"monitoring_status\" :options=\"monitoringTypes\" show-by=\"text\" track-by=\"id\" placeholder=\"Turini tanlang\" />\n        <span class=\"error_message\">{{ monitoring_statusError }}</span>\n      </div>\n      <div class=\"form_wrapper my-3\">\n        <label class=\"input_label\" for=\"speciality\">Mutaxassisligi</label>\n        <input id=\"speciality\" v-model=\"speciality\" placeholder=\"Mutaxassisligini kiriting\" class=\"base_input\" name=\"speciality\" type=\"text\" />\n        <span class=\"error_message\">{{ specialityError }}</span>\n      </div>\n      <div class=\"form_wrapper my-3\">\n        <label class=\"input_label\" for=\"school_type\"> Muassasa turi </label>\n        <SelectBox id=\"school_type\" v-model=\"school_type\" :options=\"schoolTypes\" show-by=\"text\" track-by=\"id\" placeholder=\"Turini tanlang\" />\n        <span class=\"error_message\">{{ school_typeError }}</span>\n      </div>\n      <div class=\"form_wrapper my-3\">\n        <label class=\"input_label\" for=\"class_group\">Sinfi/guruhi</label>\n        <input id=\"class_group\" v-model=\"class_group\" placeholder=\"Sinfi/guruhini kiriting\" class=\"base_input\" name=\"class_group\" type=\"text\" />\n        <span class=\"error_message\">{{ class_groupError }}</span>\n      </div>\n      <div class=\"form_wrapper my-3\">\n        <label class=\"input_label\" for=\"class_leader\">Sinfi/guruhi rahbari</label>\n        <input id=\"class_leader\" v-model=\"class_leader\" placeholder=\"Sinf rahbari FIO kiriting\" class=\"base_input\" name=\"class_leader\" type=\"text\" />\n        <span class=\"error_message\">{{ class_leaderError }}</span>\n      </div>\n      <div class=\"form_wrapper my-3\">\n        <label class=\"input_label\" for=\"address\">Yashash joyi (yotoqxona manzili)</label>\n        <input id=\"address\" v-model=\"address\" placeholder=\"Yashash joyini kiriting\" class=\"base_input\" name=\"address\" type=\"text\" />\n        <span class=\"error_message\">{{ addressError }}</span>\n      </div>\n      <div class=\"form_wrapper my-3\">\n        <label class=\"input_label\" for=\"mastery\">O‘zlashtirishi</label>\n        <SelectBox id=\"mastery\" v-model=\"mastery\" :options=\"masteryLevelList\" show-by=\"text\" track-by=\"id\" placeholder=\"O‘zlashtirishini tanlang\" />\n        <span class=\"error_message\">{{ masteryError }}</span>\n      </div>\n      <div class=\"form_wrapper my-3\">\n        <label class=\"input_label\" for=\"character\">Hulqi</label>\n        <SelectBox id=\"character\" v-model=\"character\" :options=\"charactersList\" show-by=\"text\" track-by=\"id\" placeholder=\"Hulqini tanlang\" />\n        <span class=\"error_message\">{{ characterError }}</span>\n      </div>\n      <div id=\"deed_and_pictures\" class=\"form_wrapper my-3\">\n        <label class=\"input_label\"> Asoslovchi o‘rganish dalolatnomasi va rasmlar </label>\n        <FileInput id=\"deed_and_pictures1\" v-model:files=\"deed_and_pictures\" :multiple-files=\"false\">\n          <template #icon>\n            <div class=\"flex justify-between shadow rounded w-full\">\n              <p class=\"flex items-center text-gray-400 px-3 overflow-hidden overflow-ellipsis base_input border-none\">Yuklang</p>\n              <span class=\"flex px-4 items-center justify-center rounded bg-primary text-white tracking-wide text-sm cursor-pointer\"> YUKLASH </span>\n            </div>\n          </template>\n        </FileInput>\n        <span class=\"error_message\">{{ deed_and_picturesError }}</span>\n      </div>\n      <div class=\"form_wrapper my-3\">\n        <label class=\"input_label\" for=\"is_action_been_taken\"> MJtKning 47-moddasi bilan chora ko‘rildimi </label>\n        <ButtonGroup id=\"is_action_been_taken\" v-model:selected-item=\"is_action_been_taken\" :titles=\"btnGroupYesNo\" />\n        <span class=\"error_message\">{{ is_action_been_takenError }}</span>\n      </div>\n      <div v-if=\"hasMJTK47\" id=\"file_action_been_taken\" class=\"form_wrapper my-3\">\n        <label class=\"input_label\"> Bayonnomani yuklang </label>\n        <FileInput id=\"file_action_been_taken1\" v-model:files=\"file_action_been_taken\" :multiple-files=\"false\">\n          <template #icon>\n            <div class=\"flex justify-between shadow rounded w-full\">\n              <p class=\"flex items-center text-gray-400 px-3 overflow-hidden overflow-ellipsis base_input border-none\">Yuklang</p>\n              <span class=\"flex px-4 items-center justify-center rounded bg-primary text-white tracking-wide text-sm cursor-pointer\"> YUKLASH </span>\n            </div>\n          </template>\n        </FileInput>\n        <span class=\"error_message\">{{ file_action_been_takenError }}</span>\n      </div>\n    </div>\n    <button v-if=\"isEditMode\" class=\"px-3 m-2 py-2 border bg-primary text-white rounded-md\" type=\"submit\" :disabled=\"isSubmitting\">Tahrirlashni tugatish</button>\n    <button v-else class=\"px-3 m-2 py-2 border bg-primary text-white rounded-md\" type=\"submit\" :disabled=\"isSubmitting\">Saqlash</button>\n  </form>\n</template>\n\n<script setup>\nimport {useField, useForm} from 'vee-validate';\nimport * as yup from 'yup';\nimport {isLatinLetters, requiredValidatorMessage} from '../utils/validatorMessages';\nimport {computed, defineEmits, defineProps, toRefs, watch} from 'vue';\nimport ButtonGroup from './Common/ButtonGroup';\nimport {btnGroupYesNo} from '../utils/buttonGroupTitles';\nimport FileInput from './Common/InputFile/FileInput';\nimport useSchoolTypes from '../composables/selectbox-list/useSchoolTypes';\nimport useMonitoringTypes from '../composables/selectbox-list/useMonitoringTypes';\nimport SelectBox from './Common/SelectBox';\nimport useCharacters from '../composables/selectbox-list/useCharacters';\nimport useMasteryLevel from '../composables/selectbox-list/useMasteryLevel';\n\nconst emit = defineEmits(['submit']);\nconst props = defineProps({\n  initialFields: {\n    type: Object,\n    default: function () {\n      return null;\n    },\n  },\n  isEditMode: {\n    type: Boolean,\n    default: false,\n  },\n  clearFormMode: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst {handleSubmit, isSubmitting, resetForm} = useForm();\nconst {clearFormMode} = toRefs(props);\nconst {schoolTypes} = useSchoolTypes();\nconst {monitoringTypes} = useMonitoringTypes();\nconst {charactersList} = useCharacters();\nconst {masteryLevelList} = useMasteryLevel();\n\nwatch(\n  () => clearFormMode.value,\n  (clearFormMode) => {\n    if (clearFormMode === true) {\n      resetForm();\n    }\n  }\n);\n\nfunction onInvalidSubmit({values, errors, results}) {\n  console.log(Object.keys(errors)[0]);\n}\n\nconst onSubmit = handleSubmit(async (values) => {\n  const formData = new FormData();\n  const obj = [];\n  Object.entries(values).map(([key, val]) => {\n    if (hasMJTK47.value) {\n      formData.append(key, val);\n      obj.push({[key]: val});\n    } else {\n      if (key !== 'file_action_been_taken') {\n        formData.append(key, val);\n        obj.push({[key]: val});\n      }\n    }\n  });\n  console.log(obj);\n  emit('submit', formData);\n}, onInvalidSubmit);\n\nconst hasMJTK47 = computed(() => is_action_been_taken.value);\n\nconst {value: speciality, errorMessage: specialityError} = useField('speciality', yup.string().test(...isLatinLetters()));\nconst {value: monitoring_status, errorMessage: monitoring_statusError} = useField('monitoring_status', yup.string().required(requiredValidatorMessage));\nconst {value: class_group, errorMessage: class_groupError} = useField(\n  'class_group',\n  yup\n    .string()\n    .test(...isLatinLetters())\n    .required(requiredValidatorMessage)\n);\nconst {value: class_leader, errorMessage: class_leaderError} = useField(\n  'class_leader',\n  yup\n    .string()\n    .test(...isLatinLetters())\n    .required(requiredValidatorMessage)\n);\nconst {value: address, errorMessage: addressError} = useField(\n  'address',\n  yup\n    .string()\n    .test(...isLatinLetters())\n    .required(requiredValidatorMessage)\n);\nconst {value: mastery, errorMessage: masteryError} = useField(\n  'mastery',\n  yup\n    .string()\n    .test(...isLatinLetters())\n    .required(requiredValidatorMessage)\n);\nconst {value: character, errorMessage: characterError} = useField(\n  'character',\n  yup\n    .string()\n    .test(...isLatinLetters())\n    .required(requiredValidatorMessage)\n);\nconst {value: is_action_been_taken, errorMessage: is_action_been_takenError} = useField('is_action_been_taken', yup.boolean().required(requiredValidatorMessage));\n\nconst dynamicValidationForReferenceType = computed(() => (hasMJTK47.value ? yup.mixed().nullable().required(requiredValidatorMessage) : yup.mixed().nullable().notRequired()));\n\nwatch(\n  () => hasMJTK47.value,\n  () => {\n    console.log(hasMJTK47.value);\n  }\n);\n\nconst {value: file_action_been_taken, errorMessage: file_action_been_takenError} = useField('file_action_been_taken', dynamicValidationForReferenceType, {\n  initialValue: null,\n});\n\nconst {value: deed_and_pictures, errorMessage: deed_and_picturesError} = useField('deed_and_pictures', yup.mixed().nullable().required(requiredValidatorMessage), {\n  initialValue: null,\n});\n\nconst {value: school_type, errorMessage: school_typeError} = useField('school_type', yup.number().required(requiredValidatorMessage));\n</script>\n\n<style scoped></style>\n","import script from \"./MonitoringForm.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MonitoringForm.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import axios from './api/axios';\n\nconst JuvenilesService = {\n  async fetchJuvenileById(id) {\n    const {data} = await axios.get(`/api/juvenile/juveniles/${id}/`);\n    return data;\n  },\n  async fetchJuvenileInfoDetailById(id) {\n    const {data} = await axios.get(`/api/juvenile/juveniles/${id}/juvenile_info_detail/`);\n    return data;\n  },\n  async fetchJuvenilesList(params = {}) {\n    return (\n      await axios.get('/api/juvenile/juveniles/', {\n        params,\n      })\n    ).data;\n  },\n  async fetchJuvenileReportsList(params = {}) {\n    return (\n      await axios.get('/api/juvenile/reports/', {\n        params: {\n          ...params,\n        },\n      })\n    ).data;\n  },\n  async fetchJuvenileReportById(id) {\n    const {data} = await axios.get(`/api/juvenile/is_filled/${id}/`);\n    return data;\n  },\n  async fetchJuvenileReportsInfoById(id) {\n    const {data} = await axios.get(`/api/juvenile/reports/${id}`);\n    return data;\n  },\n  async fetchAcceptedJuvenilesInfo(id) {\n    const {data} = await axios.get(`/api/juvenile/accepted_for_edit/${id}/`);\n    return data;\n  },\n  async acceptJuvenileToCenter(id, formData) {\n    return await axios.post(`/api/juvenile/juveniles/accept_juvenile/`, formData, {\n      params: {\n        juvenile_id: id,\n      },\n    });\n  },\n  async createAvailableJuvenile(juvenileId) {\n    return await axios.post(`/api/juvenile/juveniles/create_available_juvenile/?juvenile_id=${juvenileId}`);\n  },\n  async updateJuvenile(formData, id) {\n    return await axios.put('/api/juvenile/juveniles/' + id, formData);\n  },\n  async createJuvenilePersonalInfo(formData) {\n    return await axios.post('/api/juvenile/juveniles/', formData);\n  },\n  async createJuvenileAddressInfo(id, formData) {\n    return await axios.post(`/api/juvenile/juveniles/${id}/juvenile_addressinfo_create_or_update/`, formData);\n  },\n  async createJuvenileEducationInfo(id, formData) {\n    return await axios.post(`/api/juvenile/juveniles/${id}/juvenile_educationinfo_create_or_update/`, formData);\n  },\n  async getDeterminedJuvenilesList(params) {\n    const response = (\n      await axios.get('/api/juvenile/juveniles/incomplete_juveniles/', {\n        params,\n      })\n    ).data;\n    const normalizedResultsList = response.results.map((item) => ({\n      birth_date: item.personal_info.birth_date,\n      father_name: item.personal_info.father_name,\n      first_name: item.personal_info.first_name,\n      last_name: item.personal_info.last_name,\n      ...item,\n    }));\n    return {\n      ...response,\n      results: normalizedResultsList,\n    };\n  },\n  async getNotDefinedJuvenilesList(params) {\n    return (\n      await axios.get('/api/juvenile/juveniles/unidentified_juveniles', {\n        params,\n      })\n    ).data;\n  },\n};\nexport default JuvenilesService;\n","import {ref} from 'vue';\n\nexport default function useClearForm() {\n  const clearForm = ref(false);\n  const setClearForm = (payload) => (clearForm.value = payload);\n\n  return {\n    clearForm,\n    setClearForm,\n  };\n}\n","import axios from \"./api/axios\";\n\nconst MonitoringService = {\n  async fetchJuvenilesMonitoringInfo(id) {\n    const {data} = await axios.get(`/api/juvenile/monitoring_for_edit/${id}/`);\n    return data;\n  },\n  async editJuvenilesMonitoring(formData, id) {\n    return await axios.patch(`/api/juvenile/monitoring_for_edit`, formData, {\n      params: {\n        juvenile_id: id,\n      },\n    });\n  },\n  async addJuvenileToMonitoring (formData, id){\n    return await axios.post(`/api/juvenile/juveniles/add_monitoring_info/`, formData, {\n      params: {\n        juvenile_id: id,\n      },\n    });\n  }\n};\nexport default MonitoringService;\n"],"sourceRoot":""}