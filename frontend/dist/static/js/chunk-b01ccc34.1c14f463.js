(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b01ccc34"],{"1a02":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("7a23"),c=a("4b59");function l(){const e=Object(n["ref"])([]),t=async()=>{const{data:t}=await c["a"].fetchSchoolTypes();e.value=t};return Object(n["onMounted"])(async()=>{await t()}),{schoolTypes:e}}},2145:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),c=a("9062"),l=a.n(c),r=(a("e40d"),a("14d9"),a("3bc9"));const i={xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},o=Object(n["createElementVNode"])("path",{fill:"currentColor",d:"M12 9a3 3 0 0 0-3 3a3 3 0 0 0 3 3a3 3 0 0 0 3-3a3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5a5 5 0 0 1 5-5a5 5 0 0 1 5 5a5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"},null,-1),s=[o];function u(e,t,a,c,l,r){return Object(n["openBlock"])(),Object(n["createElementBlock"])("svg",i,s)}var d={name:"MdiEye"},b=a("d959"),p=a.n(b);const j=p()(d,[["render",u]]);var v=j,m=a("3d20"),O=a.n(m),y=a("451b");const f={class:"min-w-full table-auto text-sm xl:text-base"},h={class:"bg-white border-b border-gray-300 text-gray-400"},g=Object(n["createElementVNode"])("th",{class:"w-20 py-4"}," T/r ",-1),_=Object(n["createElementVNode"])("th",{class:"text-left py-4 pl-3"}," F.I.Sh ",-1),w=Object(n["createElementVNode"])("th",{class:"py-4 pl-3"}," Markazga qabul qilingan ",-1),V=Object(n["createElementVNode"])("th",{class:"py-4 pl-3"}," Holati ",-1),N=Object(n["createElementVNode"])("th",{class:"py-4 pl-3"}," Taqsimlagan ",-1),k=Object(n["createElementVNode"])("th",{class:"py-4"}," Ma'lumot ",-1),E=Object(n["createElementVNode"])("th",{class:"py-4"},null,-1),x=Object(n["createElementVNode"])("th",{class:"py-4"},null,-1),B={class:"w-20 py-4"},C={class:"text-center"},D={class:"py-4 overflow-hidden overflow-ellipsis"},J={class:"flex items-center"},S={class:"text-center px-3 py-4"},I={key:0},z={class:"text-center px-3 py-4"},T={key:0},$={class:"text-center px-3 py-4"},M={key:0},L={class:"text-center px-3 py-4"},R={key:0},U={class:""},q={class:"flex items-center gap-2"},A=["onClick"],H=["onClick"];var F={__name:"TableJuveniles",props:{tableBody:{type:Array,required:!0}},emits:["sort-by-date"],setup(e){function t(e){O.a.fire({title:"Haqiqatdan ham o'chirishni istaysizmi?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#DD6C6C",cancelButtonColor:"#06B68C",cancelButtonText:"Bekor qilish",confirmButtonText:"Ha o'chiraman"}).then(async t=>{t.isConfirmed&&y["a"].delete(`/api/juvenile/juvenile_delete/${e.id}/`).then(()=>{window.location.reload()})})}return(e,a)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("table",f,[Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",h,[g,_,Object(n["createElementVNode"])("th",{class:"py-4 pl-3 cursor-pointer",onClick:a[0]||(a[0]=t=>e.$emit("sort-by-date"))}," Tugâ€™ilgan sanasi "),w,V,N,k,E,x])]),Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.$props.tableBody,(a,c)=>{var l,i;return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:a.id,class:"text-gray-800 odd:bg-white even:bg-grayPrimary !hover:bg-gray-200"},[Object(n["createElementVNode"])("td",B,[Object(n["createElementVNode"])("div",C,Object(n["toDisplayString"])(c+1),1)]),Object(n["createElementVNode"])("td",D,[Object(n["createElementVNode"])("div",J,Object(n["toDisplayString"])(`${a.first_name} ${a.last_name} ${a.father_name}`),1)]),Object(n["createElementVNode"])("td",S,[a.birth_date?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",I,Object(n["toDisplayString"])(a.birth_date),1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("td",z,[a.time_arrival_center?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",T,Object(n["toDisplayString"])(a.time_arrival_center),1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("td",$,[null!==a&&void 0!==a&&null!==(l=a.status)&&void 0!==l&&l.text?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",M,Object(n["toDisplayString"])(null===a||void 0===a||null===(i=a.status)||void 0===i?void 0:i.text),1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("td",L,[a.time_departure_center?(Object(n["openBlock"])(),Object(n["createElementBlock"])("span",R,Object(n["toDisplayString"])(a.time_departure_center),1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("td",U,[Object(n["createElementVNode"])("div",q,[Object(n["createElementVNode"])("button",{class:"mx-auto px-4 flex gap-4 py-2 text-primary hover:text-white hover:bg-primary rounded-md",onClick:t=>e.$router.push("/teenager/"+a.id)},[Object(n["createTextVNode"])(" Ko'rish "),Object(n["createVNode"])(v,{width:"20",height:"20"})],8,A),Object(n["createElementVNode"])("button",{class:"px-2 flex py-2 text-primary hover:text-white hover:bg-primary rounded-md",onClick:e=>t(a)},[Object(n["createVNode"])(r["a"])],8,H)])])])}),128))])]))}};const P=F;var K=P,G=a("7c27"),Q=a("1a02"),W=a("b4b5"),X=a("2eed"),Y=a("4b59");function Z(){const e=Object(n["ref"])([]),t=async()=>{const{data:t}=await Y["a"].fetchJuvenileStatuses();e.value=t};return Object(n["onMounted"])(async()=>{await t()}),{juvenileStatuses:e}}var ee=a("a5a1"),te=a("8b9c"),ae=a("2e00"),ne=a("89ed"),ce=a("e19e"),le=a("5779"),re=a("5502"),ie=a("4262");const oe={class:"bg-white rounded-md p-3"},se={class:"grid grid-cols-2 md:grid-cols-5 gap-4"},ue={class:"form_wrapper my-3"},de={class:"form_wrapper my-3"},be={class:"form_wrapper my-3"},pe={key:0,class:"form_wrapper my-3"},je={class:"flex items-center gap-2 my-3"};var ve={__name:"Juveniles",setup(e){const{markazsList:t}=Object(ie["a"])(),{fetchJuvenileReportsList:a}=ne["a"],c=Object(n["ref"])(""),{regionsList:r}=Object(W["a"])(),{schoolTypes:i}=Object(Q["a"])(),{juvenileStatuses:o}=Z(),{currentPage:s,pageSize:u,allPagesCount:d,pageSizeOptions:b}=Object(X["a"])([10,15,20]),p=Object(n["ref"])([]),j=Object(n["ref"])(!0),{alertThisError:v}=Object(ce["a"])(),m=Object(n["ref"])("ASC"),O=Object(n["ref"])(""),y=Object(n["ref"])(""),f=Object(n["ref"])(""),h=Object(n["ref"])(""),g="Apparat",_=Object(re["b"])(),w=Object(n["computed"])(()=>_.getters["getUserInfo"].role===g),V=async e=>{try{j.value=!0;const t=await a({...e});p.value=null===t||void 0===t?void 0:t.results,d.value=null===t||void 0===t?void 0:t.num_pages,s.value=null===t||void 0===t?void 0:t.current,j.value=!1}catch(t){v(t)}};function N(){"ASC"===m.value?(m.value="DESC",p.value.sort((function(e,t){return new Date(t.birth_date)-new Date(e.birth_date)}))):(m.value="ASC",p.value.sort((function(e,t){return new Date(e.birth_date)-new Date(t.birth_date)})))}return Object(n["watch"])([f,O,y,c,u,h],async([e,t,a,n,c,l])=>{await V({full_name:e,school_type:t,address_region:a,page_size:c,page:1,status:l,markaz_id:n})}),Object(n["watch"])(()=>s.value,async e=>{await V({full_name:f.value,school_type:O.value,address_region:y.value,page_size:u.value,page:e,status:h.value})},{immediate:!0}),(e,a)=>{const v=Object(n["resolveDirective"])("validate-cyrillic");return Object(n["openBlock"])(),Object(n["createElementBlock"])("section",oe,[Object(n["createVNode"])(Object(n["unref"])(ae["a"]),null,{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(" Bolalar ro'yxati ")]),_:1}),Object(n["createVNode"])(G["a"],{"current-page":Object(n["unref"])(s),"onUpdate:current-page":a[7]||(a[7]=e=>Object(n["isRef"])(s)?s.value=e:null),"page-size":Object(n["unref"])(u),"onUpdate:page-size":a[8]||(a[8]=e=>Object(n["isRef"])(u)?u.value=e:null),"all-pages-count":Object(n["unref"])(d),"page-size-options":Object(n["unref"])(b),onTableOptionsChanged:V},Object(n["createSlots"])({"filter-additional-content":Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",se,[Object(n["createElementVNode"])("div",ue,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"search","onUpdate:modelValue":a[0]||(a[0]=e=>f.value=e),class:"base_input",name:"search",placeholder:"F.I.SH bo'yicha qidirish",type:"text"},null,512),[[n["vModelText"],f.value],[v]])]),Object(n["createElementVNode"])("div",de,[Object(n["createVNode"])(Object(n["unref"])(ee["a"]),{id:"address_region",modelValue:y.value,"onUpdate:modelValue":a[1]||(a[1]=e=>y.value=e),options:Object(n["unref"])(te["a"])(Object(n["unref"])(r),"name","id","Barcha viloyatlar bo'yicha"),placeholder:"Viloyat bo'yicha","show-by":"name","track-by":"id"},null,8,["modelValue","options"])]),Object(n["createElementVNode"])("div",be,[Object(n["createVNode"])(Object(n["unref"])(ee["a"]),{id:"school_type",modelValue:O.value,"onUpdate:modelValue":a[2]||(a[2]=e=>O.value=e),options:Object(n["unref"])(te["a"])(Object(n["unref"])(i),"text","id","Barcha muassasa turlari bo'yicha"),placeholder:"Ta`lim muassasa bo'yicha","show-by":"text","track-by":"id"},null,8,["modelValue","options"])]),Object(n["unref"])(w)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",pe,[Object(n["createVNode"])(Object(n["unref"])(ee["a"]),{id:"center",modelValue:c.value,"onUpdate:modelValue":a[3]||(a[3]=e=>c.value=e),class:"w-full",options:Object(n["unref"])(t),"show-by":"name","track-by":"id",placeholder:"Markazni tanlang"},null,8,["modelValue","options"])])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("div",je,[Object(n["createVNode"])(Object(n["unref"])(ee["a"]),{id:"status",modelValue:h.value,"onUpdate:modelValue":a[4]||(a[4]=e=>h.value=e),options:Object(n["unref"])(te["a"])(Object(n["unref"])(o),"text","id","Barcha holatlar bo'yicha "),placeholder:"Holatlar bo'yicha","show-by":"text","track-by":"id"},null,8,["modelValue","options"]),Object(n["createElementVNode"])("button",{class:"base_input !w-auto",onClick:a[5]||(a[5]=t=>e.$router.go())},[Object(n["createVNode"])(Object(n["unref"])(le["a"]),{icon:"mdi:close"})])])])]),_:2},[j.value?{name:"loading",fn:Object(n["withCtx"])(()=>[Object(n["createVNode"])(Object(n["unref"])(l.a),{active:j.value,"onUpdate:active":a[6]||(a[6]=e=>j.value=e),"can-cancel":!1,"is-full-page":!1,color:"#4785FE",loader:"dots"},null,8,["active"])]),key:"0"}:{name:"table-content",fn:Object(n["withCtx"])(()=>[Object(n["createVNode"])(Object(n["unref"])(K),{"table-body":p.value,onSortByDate:N},null,8,["table-body"])]),key:"1"}]),1032,["current-page","page-size","all-pages-count","page-size-options"])])}}};const me=ve;t["default"]=me},4262:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("7a23"),c=a("4b59");function l(){const e=Object(n["ref"])([]),t=async()=>{const{data:t}=await c["a"].fetchMarkazs();e.value=[{id:"",region:"Toshkent shahri",name:"Markazni tanlang"},...t]};return Object(n["onMounted"])(async()=>{await t()}),{markazsList:e}}},"89ed":function(e,t,a){"use strict";var n=a("451b");const c={async fetchJuvenileById(e){const{data:t}=await n["a"].get(`/api/juvenile/juveniles/${e}/`);return t},async fetchJuvenileInfoDetailById(e){const{data:t}=await n["a"].get(`/api/juvenile/juveniles/${e}/juvenile_info_detail/`);return t},async fetchJuvenilesList(e={}){return(await n["a"].get("/api/juvenile/juveniles/",{params:e})).data},async fetchJuvenileReportsList(e={}){return(await n["a"].get("/api/juvenile/reports/",{params:{...e}})).data},async fetchJuvenileReportById(e){const{data:t}=await n["a"].get(`/api/juvenile/is_filled/${e}/`);return t},async fetchJuvenileReportsInfoById(e){const{data:t}=await n["a"].get("/api/juvenile/reports/"+e);return t},async fetchAcceptedJuvenilesInfo(e){const{data:t}=await n["a"].get(`/api/juvenile/accepted_for_edit/${e}/`);return t},async acceptJuvenileToCenter(e,t){return await n["a"].post("/api/juvenile/juveniles/accept_juvenile/",t,{params:{juvenile_id:e}})},async createAvailableJuvenile(e){return await n["a"].post("/api/juvenile/juveniles/create_available_juvenile/?juvenile_id="+e)},async updateJuvenile(e,t){return await n["a"].put("/api/juvenile/juveniles/"+t,e)},async createJuvenilePersonalInfo(e){return await n["a"].post("/api/juvenile/juveniles/",e)},async createJuvenileAddressInfo(e,t){return await n["a"].post(`/api/juvenile/juveniles/${e}/juvenile_addressinfo_create_or_update/`,t)},async createJuvenileEducationInfo(e,t){return await n["a"].post(`/api/juvenile/juveniles/${e}/juvenile_educationinfo_create_or_update/`,t)},async getDeterminedJuvenilesList(e){const t=(await n["a"].get("/api/juvenile/juveniles/incomplete_juveniles/",{params:e})).data,a=t.results.map(e=>{var t,a,n,c;return{birth_date:null===(t=e.personal_info)||void 0===t?void 0:t.birth_date,father_name:null===(a=e.personal_info)||void 0===a?void 0:a.father_name,first_name:null===(n=e.personal_info)||void 0===n?void 0:n.first_name,last_name:null===(c=e.personal_info)||void 0===c?void 0:c.last_name,...e}});return{...t,results:a}},async getNotDefinedJuvenilesList(e){return(await n["a"].get("/api/juvenile/juveniles/unidentified_juveniles",{params:e})).data},async delete_incomplete_juvenile(e){return await n["a"].delete(`/api/juvenile/juveniles/${e}/delete_incomplete_juvenile/`)},async delete_unidentified_juvenile(e){return await n["a"].delete(`/api/juvenile/juveniles/${e}/delete_unidentified_juvenile/`)}};t["a"]=c},b4b5:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("7a23"),c=a("ba1a");function l(e){const t=Object(n["ref"])([]),a=async()=>{const{data:e}=await c["a"].fetchRegions();t.value=e};return Object(n["onMounted"])(async()=>{await a()}),{regionsList:t}}},b7a4:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("0180");function c(){const e=Object(n["b"])();function t(t,a=["success","error","danger","info"][0]){e(t,{type:a})}return{alertIt:t}}},ba1a:function(e,t,a){"use strict";var n=a("451b");const c={async fetchRegions(){try{return await n["a"].get("api/info/regions/")}catch(e){console.log(e)}},async fetchDistrictsByRegionId(e){try{return await n["a"].get("/api/info/districts/ByRegionId/",{params:{region:e.target.value}})}catch(t){console.log(t)}},async fetchMahallaByDistrictId(e){try{return await n["a"].get("api/info/mahalla/ByDistrictId/",{params:{district:e.target.value}})}catch(t){console.log(t)}}};t["a"]=c}}]);
//# sourceMappingURL=chunk-b01ccc34.1c14f463.js.map