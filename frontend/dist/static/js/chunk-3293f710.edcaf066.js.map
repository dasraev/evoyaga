{"version":3,"sources":["webpack:///./src/components/AddDistrictDepartmentForm.vue","webpack:///./src/components/AddDistrictDepartmentForm.vue?0667","webpack:///./src/views/AddDistrictDepartment.vue","webpack:///./src/views/AddDistrictDepartment.vue?259b","webpack:///./src/views/AddDistrictDepartment.vue?ff29","webpack:///./src/utils/validatorMessages.js","webpack:///./src/components/LayoutItems/PageTitle.vue","webpack:///./src/components/LayoutItems/PageTitle.vue?c9f1","webpack:///./src/composables/selectbox-list/useDistrict.js","webpack:///./src/composables/selectbox-list/useRegion.js","webpack:///./src/services/regions-districts.service.js","webpack:///./src/composables/useClearForm.js","webpack:///./src/composables/useErrorAlert.js"],"names":["clearFormMode","toRefs","props","watch","value","resetForm","regionsList","useRegion","districtsList","fetchDistrictsByRegionId","useDistrict","schema","yup","name","required","requiredValidatorMessage","district","handleSubmit","useForm","validationSchema","onSubmit","async","formData","FormData","append","emit","errorMessage","nameError","useField","initialValue","districtError","__exports__","alertIt","useAlert","alertThisError","useErrorAlert","clearForm","setClearForm","useClearForm","data","message","axios","post","e","path","workerIsRequiredValidatorMessage","minValidatorMessage","args","min","maxValidatorMessage","max","isLatinLetters","regex","test","class","_createElementBlock","_hoisted_1","_renderSlot","_ctx","render","ref","RegionsService","val","regionModel","fetchRegions","onMounted","get","console","log","params","region","target","payload","error","response","messages","Object","values","map","errItem","Array","isArray","status","n"],"mappings":"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","file":"static/js/chunk-3293f710.edcaf066.js","sourcesContent":["<template>\n  <form @submit=\"onSubmit\">\n    <div class=\"grid grid-cols-3 gap-3 w-full lg:w-[85%]\">\n      <div class=\"form_wrapper my-3\">\n        <label class=\"input_label\" for=\"name\"> Bo'lim nomi </label>\n        <input v-validate-cyrillic id=\"name\" v-model=\"name\" name=\"name\" class=\"base_input\" placeholder=\"Bo'lim nomini kiriting\" />\n        <span>{{ nameError }}</span>\n      </div>\n      <div class=\"form_wrapper my-3\">\n        <label class=\"input_label\" for=\"region\"> Bo'lim joylashgan viloyat / shahar </label>\n        <SelectBox v-model=\"region\" @input=\"fetchDistrictsByRegionId\" :options=\"regionsList\" track-by=\"id\" show-by=\"name\" placeholder=\"Viloyat / Shaharni tanlang\" />\n        <span>{{ regionError }}</span>\n      </div>\n      <div class=\"form_wrapper my-3\">\n        <label class=\"input_label\" for=\"region\"> Bo'lim joylashgan tuman </label>\n        <SelectBox v-model=\"district\" :options=\"districtsList\" track-by=\"id\" show-by=\"name\" placeholder=\"Tuman tanlang\" />\n        <span>{{ districtError }}</span>\n      </div>\n    </div>\n    <button type=\"submit\" class=\"base_input bg-primary text-white border-primary\">Saqlash</button>\n  </form>\n</template>\n\n<script setup>\nimport {useField, useForm} from 'vee-validate';\nimport * as yup from 'yup';\nimport useRegion from '../composables/selectbox-list/useRegion';\nimport {requiredValidatorMessage} from '../utils/validatorMessages';\nimport {defineEmits, defineProps, toRefs, watch} from 'vue';\nimport SelectBox from './Common/SelectBox';\nimport useDistrict from '../composables/selectbox-list/useDistrict';\n\nconst emit = defineEmits(['submit']);\nconst props = defineProps({\n  clearFormMode: {\n    type: Boolean,\n    default: false,\n  },\n  initialFields: {\n    type: Object,\n    default: function () {\n      return {};\n    },\n  },\n});\n\nconst {clearFormMode} = toRefs(props);\nwatch(\n  () => clearFormMode.value,\n  (clearFormMode) => {\n    if (clearFormMode === true) {\n      resetForm();\n    }\n  }\n);\nconst {regionsList} = useRegion();\nconst {districtsList, fetchDistrictsByRegionId} = useDistrict();\n\nconst schema = yup.object({\n  name: yup.string().required(requiredValidatorMessage),\n  district: yup.number().required(requiredValidatorMessage),\n});\n\nconst {handleSubmit, resetForm} = useForm({\n  validationSchema: schema,\n});\n\nconst onSubmit = handleSubmit(async ({name, district}) => {\n  const formData = new FormData();\n  formData.append('name', name);\n  formData.append('district', district);\n  emit('submit', formData);\n});\n\nconst {value: name, errorMessage: nameError} = useField(\n  'name',\n  {},\n  {\n    initialValue: '',\n  }\n);\n\nconst {value: district, errorMessage: districtError} = useField(\n  'district',\n  {},\n  {\n    initialValue: '',\n  }\n);\n</script>\n\n<style scoped></style>\n","import script from \"./AddDistrictDepartmentForm.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddDistrictDepartmentForm.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"w-full rounded-md bg-white px-[20px] py-[16px]\">\n    <PageTitle> Tizimga markaz qo'shish </PageTitle>\n    <AddDistrictDepartmentForm :clear-form-mode=\"clearForm\" @submit=\"handleSubmit\" />\n  </div>\n</template>\n\n<script setup>\nimport axios from '../services/api/axios';\nimport useAlert from '../composables/useAlert';\nimport AddDistrictDepartmentForm from '../components/AddDistrictDepartmentForm';\nimport PageTitle from '../components/LayoutItems/PageTitle';\nimport useErrorAlert from '../composables/useErrorAlert';\nimport useClearForm from '../composables/useClearForm';\n\nconst {alertIt} = useAlert();\nconst {alertThisError} = useErrorAlert();\nconst {clearForm, setClearForm} = useClearForm();\n\nconst handleSubmit = async (formData) => {\n  try {\n    const {\n      data: {message},\n    } = await axios.post('/api/info/markaz_tumans/', formData);\n    if (message) {\n      alertIt(message);\n    }\n    setClearForm(true);\n  } catch (e) {\n    alertThisError(e);\n  }\n};\n</script>\n\n<style scoped>\nspan {\n  @apply text-red-400 h-5;\n}\n</style>\n","import script from \"./AddDistrictDepartment.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AddDistrictDepartment.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AddDistrictDepartment.vue?vue&type=style&index=0&id=6362bbef&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/abdumannontojiboev/Documents/Developer/Projects/technocorp-projects/e-voya/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6362bbef\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/windicss-webpack-plugin/dist/loaders/windicss-style-pitcher.cjs!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/windicss-webpack-plugin/dist/loaders/windicss-template.cjs!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./AddDistrictDepartment.vue?vue&type=style&index=0&id=6362bbef&scoped=true&lang=css\"","//          /^[a-zA-Z\\s.,]+$/\n\nexport const requiredValidatorMessage = ({path}) => {\n  return `Ushbu maydon to'ldirilishi shart`;\n};\nexport const workerIsRequiredValidatorMessage = () => {\n  return 'Xodimni belgilash zarur!';\n};\n\nexport const minValidatorMessage = (args) => {\n  return `Ushbu maydon eng kami ${args.min} ta bo'lishi kerak`;\n};\nexport const maxValidatorMessage = (args) => {\n  return `Ushbu maydon eng ko'pi ${args.max} ta bo'lishi kerak`;\n};\nexport const onlyLatinLetters = (args) => {\n  return `Ushbu maydon faqat lotin harflari bilan to'ldirilishi kerak`;\n};\n\nexport const isLatinLetters = (args) => [\n  'is-latin',\n  'Iltimos faqat lotin harflaridan foydalaning',\n  (value) => {\n    const regex = /[^\\P{L}a-z][^a-z]*/giu;\n    return !regex.test(value);\n  },\n];\n","<template>\n  <h1 class=\"text-2xl my-4\">\n    <slot></slot>\n  </h1>\n</template>\n\n<script>\nexport default {\n  name: \"PageTitle\"\n}\n</script>\n\n<style scoped>\n\n</style>\n","import { render } from \"./PageTitle.vue?vue&type=template&id=069302a8\"\nimport script from \"./PageTitle.vue?vue&type=script&lang=js\"\nexport * from \"./PageTitle.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/abdumannontojiboev/Documents/Developer/Projects/technocorp-projects/e-voya/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {ref} from 'vue';\nimport RegionsService from '../../services/regions-districts.service';\n\nexport default function useDistrict() {\n  const districtsList = ref([]);\n  const fetchDistrictsByRegionId = async (val) => {\n    const {data} = await RegionsService.fetchDistrictsByRegionId(val);\n    districtsList.value = data;\n  };\n\n  return {\n    districtsList,\n    fetchDistrictsByRegionId,\n  };\n}\n","import { onMounted, ref } from \"vue\";\nimport RegionsService from \"../../services/regions-districts.service\";\n\nexport default function useRegion(regionModel) {\n  const regionsList = ref([]);\n  const fetchRegions = async () => {\n    const { data } = await RegionsService.fetchRegions();\n    regionsList.value = data;\n  };\n  onMounted(async () => {\n    await fetchRegions();\n  });\n\n  return {\n    regionsList,\n  };\n}\n","import axios from \"./api/axios\";\n\nconst RegionsService = {\n  async fetchRegions() {\n    try {\n      return await axios.get(\"api/info/regions/\");\n    } catch (e) {\n      console.log(e);\n    }\n  },\n  async fetchDistrictsByRegionId(val) {\n    try {\n      return await axios.get(`/api/info/districts/ByRegionId/`, {\n        params: {\n          region: val.target.value,\n        },\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  },\n  async fetchMahallaByDistrictId(val) {\n    try {\n      return await axios.get(\"api/info/mahalla/ByDistrictId/\", {\n        params: {\n          district: val.target.value,\n        },\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  },\n};\nexport default RegionsService;\n","import {ref} from 'vue';\n\nexport default function useClearForm() {\n  const clearForm = ref(false);\n  const setClearForm = (payload) => (clearForm.value = payload);\n\n  return {\n    clearForm,\n    setClearForm,\n  };\n}\n","import useAlert from './useAlert';\n\nexport default function useErrorAlert() {\n  const {alertIt} = useAlert();\n  const alertThisError = (error) => {\n    console.log({error}, 'UseErrorAlert');\n    if (typeof error?.response?.data?.message === 'string') {\n      alertIt(error?.response?.data?.message, 'error');\n    } else if (error?.response?.data && typeof error?.response?.data !== 'string' && error?.response?.data?.messages) {\n      Object.values(error.response.data.messages).map((errItem) => {\n        errItem?.message ? alertIt(errItem.message, 'error') : null;\n      });\n    } else if (Array.isArray(error?.response?.data)) {\n      error?.response?.data.map((errItem) => {\n        alertIt(errItem, 'error');\n      });\n    } else if (error?.response?.data && error?.response?.status === 400) {\n      Object.values(error.response.data).map((errItem) => {\n        typeof errItem == 'string' ? alertIt(errItem, 'error') : errItem.map((n) => alertIt(n, 'error'));\n      });\n    } else {\n      alertIt(\"Server bilan bog'liq xatolik yuz berdi.\", 'error');\n    }\n  };\n  return {\n    alertThisError,\n  };\n}\n"],"sourceRoot":""}