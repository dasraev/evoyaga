(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4439106e"],{"11fa":function(e,t,a){"use strict";a.r(t);a("14d9");var l=a("7a23"),o=a("8936"),r=a("90a7"),n=a("451b"),i=a("e19e"),s=a("b7a4"),c=a("7bb1"),d=a("506a"),u=a("5a0c"),b=a.n(u),m=a("2061"),p=a("1f2e"),j=a("6605");const O={class:"grid grid-cols-3 gap-3 w-full lg:w-[85%]"},v={class:"form_wrapper my-3"},f=Object(l["createElementVNode"])("label",{class:"input_label",for:"last_name"}," Familiyasi ",-1),g={class:"error_message"},h={class:"form_wrapper my-3"},y=Object(l["createElementVNode"])("label",{class:"input_label",for:"first_name"}," Ismi ",-1),k={class:"error_message"},w={class:"form_wrapper my-3"},E=Object(l["createElementVNode"])("label",{class:"input_label",for:"father_name"}," Sharifi ",-1),V={class:"error_message"},_={class:"form_wrapper my-3"},N=Object(l["createElementVNode"])("label",{class:"input_label"}," Tugâ€˜ilgan yili va sanasi ",-1),x={class:"error_message"},B={class:"form_wrapper my-3"},M=Object(l["createElementVNode"])("label",{class:"input_label",for:"login"}," Login ",-1),C={class:"error_message"},D={class:"form_wrapper my-3"},S=Object(l["createElementVNode"])("label",{class:"input_label",for:"father_name"}," Parol ",-1),F={class:"error_message"},z={class:"form_wrapper my-3"},U=Object(l["createElementVNode"])("label",{class:"input_label",for:"login"}," Elektron manzil ",-1),P={class:"error_message"},T=["disabled"];var q={__name:"EditWorkerForm",props:{initialFields:{type:Object},clearFormMode:{type:Boolean,default:!1},isEditMode:{type:Boolean,default:!1}},emits:["submit"],setup(e,{emit:t}){const a=e,{handleSubmit:o,isSubmitting:r,resetForm:n}=Object(c["b"])(),{clearFormMode:i}=(Object(j["c"])(),Object(l["toRefs"])(a));function s({errors:e}){console.log(e)}Object(l["watch"])(()=>i.value,e=>{!0===e&&n()}),Object(l["watch"])(()=>a.initialFields,e=>{var t,l,o,r,n,i;(console.log(a.initialFields),a.initialFields)&&(q.value=null===(t=a.initialFields)||void 0===t?void 0:t.first_name,R.value=null===(l=a.initialFields)||void 0===l?void 0:l.last_name,I.value=null===(o=a.initialFields)||void 0===o?void 0:o.father_name,J.value=null===(r=a.initialFields)||void 0===r?void 0:r.login,K.value=null===(n=a.initialFields)||void 0===n?void 0:n.email,W.value=null===(i=a.initialFields)||void 0===i?void 0:i.birth_date)},{immediate:!0,deep:!0});const u=o(async({birth_date:e,...a})=>{const l={birth_date:b()(e).format("YYYY-MM-DD")};Object.keys(a).map(e=>{a[e]&&(l[e]=a[e])}),t("submit",l)},s),{value:q,errorMessage:A}=Object(c["a"])("first_name",d["g"]().test(...Object(m["a"])()).required(m["d"])),{value:R,errorMessage:$}=Object(c["a"])("last_name",d["g"]().test(...Object(m["a"])()).required(m["d"])),{value:I,errorMessage:G}=Object(c["a"])("father_name",d["g"]().test(...Object(m["a"])()).required(m["d"])),{value:W,errorMessage:Y}=Object(c["a"])("birth_date",d["g"]().required(m["d"]),{initialValue:new Date(1990,0,1)}),{value:H,errorMessage:X}=Object(c["a"])("password",d["g"]().test(...Object(m["a"])())),{value:J,errorMessage:L}=Object(c["a"])("login",d["g"]().test(...Object(m["a"])()).required(m["d"])),{value:K,errorMessage:Q}=Object(c["a"])("email",d["g"]().email("Email shaklida bo'lishi kerak").test(...Object(m["a"])()).required(m["d"]));return(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("form",{onSubmit:t[7]||(t[7]=(...e)=>Object(l["unref"])(u)&&Object(l["unref"])(u)(...e))},[Object(l["createElementVNode"])("div",O,[Object(l["createElementVNode"])("div",v,[f,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"last_name","onUpdate:modelValue":t[0]||(t[0]=e=>Object(l["isRef"])(R)?R.value=e:null),name:"last_name",class:"base_input",placeholder:"Familiyasini kiriting"},null,512),[[l["vModelText"],Object(l["unref"])(R)]]),Object(l["createElementVNode"])("span",g,Object(l["toDisplayString"])(Object(l["unref"])($)),1)]),Object(l["createElementVNode"])("div",h,[y,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"first_name","onUpdate:modelValue":t[1]||(t[1]=e=>Object(l["isRef"])(q)?q.value=e:null),name:"first_name",class:"base_input",placeholder:"Ismini kiriting"},null,512),[[l["vModelText"],Object(l["unref"])(q)]]),Object(l["createElementVNode"])("span",k,Object(l["toDisplayString"])(Object(l["unref"])(A)),1)]),Object(l["createElementVNode"])("div",w,[E,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"father_name","onUpdate:modelValue":t[2]||(t[2]=e=>Object(l["isRef"])(I)?I.value=e:null),name:"father_name",class:"base_input",placeholder:"Sharifini kiriting"},null,512),[[l["vModelText"],Object(l["unref"])(I)]]),Object(l["createElementVNode"])("span",V,Object(l["toDisplayString"])(Object(l["unref"])(G)),1)]),Object(l["createElementVNode"])("div",_,[N,Object(l["createVNode"])(Object(l["unref"])(p["a"]),{modelValue:Object(l["unref"])(W),"onUpdate:modelValue":t[3]||(t[3]=e=>Object(l["isRef"])(W)?W.value=e:null)},null,8,["modelValue"]),Object(l["createElementVNode"])("span",x,Object(l["toDisplayString"])(Object(l["unref"])(Y)),1)]),Object(l["createElementVNode"])("div",B,[M,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"login","onUpdate:modelValue":t[4]||(t[4]=e=>Object(l["isRef"])(J)?J.value=e:null),name:"login",class:"base_input",placeholder:"loginni kiriting"},null,512),[[l["vModelText"],Object(l["unref"])(J)]]),Object(l["createElementVNode"])("span",C,Object(l["toDisplayString"])(Object(l["unref"])(L)),1)]),Object(l["createElementVNode"])("div",D,[S,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"password","onUpdate:modelValue":t[5]||(t[5]=e=>Object(l["isRef"])(H)?H.value=e:null),name:"password",class:"base_input",placeholder:"Parolmi kiriting"},null,512),[[l["vModelText"],Object(l["unref"])(H)]]),Object(l["createElementVNode"])("span",F,Object(l["toDisplayString"])(Object(l["unref"])(X)),1)]),Object(l["createElementVNode"])("div",z,[U,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"email","onUpdate:modelValue":t[6]||(t[6]=e=>Object(l["isRef"])(K)?K.value=e:null),name:"email",class:"base_input",placeholder:"Elektron manzilini kiriting"},null,512),[[l["vModelText"],Object(l["unref"])(K)]]),Object(l["createElementVNode"])("span",P,Object(l["toDisplayString"])(Object(l["unref"])(Q)),1)])]),Object(l["createElementVNode"])("button",{type:"submit",disabled:Object(l["unref"])(r),class:"base_input bg-primary text-white border-primary"}," O'zgartirish ",8,T)],32))}};const A=q;var R=A,$=a("5c40");const I={class:"bg-white px-[20px] py-[16px]"},G={class:"p-2"},W=Object(l["createElementVNode"])("div",{class:"p-10 text-3xl flex items-center justify-center"},[Object(l["createElementVNode"])("h1",null,"Xodim markazga muvaffaqiyatli o'zgartirildi")],-1),Y={class:"flex justify-center"};var H={__name:"EditWorker",setup(e){const{alertThisError:t}=Object(i["a"])(),{alertIt:a}=Object(s["a"])(),c=Object(j["c"])(),d=Object(l["ref"])(),u=Object(l["ref"])(),b=async e=>{try{const{message:t}=await n["a"].patch("/auth/userUpdateForApparat/"+c.params.id+"/",e);await a(t,"success"),d.value.openModal()}catch(l){t(l)}};return Object($["ob"])(async()=>{const e=await n["a"].get("/auth/users/"+c.params.id);u.value=e.data}),(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",I,[Object(l["createVNode"])(r["a"],null,{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])(" Xodim o'zgartirish ")]),_:1}),Object(l["createElementVNode"])("section",G,[Object(l["createVNode"])(R,{"initial-fields":u.value,onSubmit:b},null,8,["initial-fields"])]),Object(l["createVNode"])(o["a"],{ref_key:"modalComponentRef",ref:d,"close-on-click-away":!1,"hide-close-button":!0,"modal-position":"center","modal-class":"!w-auto"},{slotBody:Object(l["withCtx"])(()=>[W,Object(l["createElementVNode"])("div",Y,[Object(l["createElementVNode"])("button",{class:"base_input border-primary bg-primary text-white mx-2 hover:opacity-80",onClick:t[0]||(t[0]=(...e)=>d.value.closeModal&&d.value.closeModal(...e))}," Davom etish "),Object(l["createElementVNode"])("button",{class:"base_input border-primary bg-primary text-white mx-2 hover:opacity-80",onClick:t[1]||(t[1]=t=>e.$router.push("/"))}," Bosh sahifa ")])]),_:1},512)]))}};const X=H;t["default"]=X},2061:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return i}));const l=({path:e})=>"Ushbu maydon to'ldirilishi shart",o=()=>"Xodimni belgilash zarur!",r=e=>`Ushbu maydon eng kami ${e.min} ta bo'lishi kerak`,n=e=>`Ushbu maydon eng ko'pi ${e.max} ta bo'lishi kerak`,i=e=>["is-latin","Iltimos faqat lotin harflaridan foydalaning",e=>{const t=/[^\P{L}a-z][^a-z]*/giu;return!t.test(e)}]},8936:function(e,t,a){"use strict";var l=a("7a23");const o={class:"relative py-10 px-4 max-h-screen overflow-auto"},r=Object(l["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(l["createElementVNode"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),n=[r];function i(e,t,a,r,i,s){return i.isOpen?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,class:Object(l["normalizeClass"])(["absolute inset-0 z-10 overflow-hidden bg-gray-800 bg-opacity-50 py-[50px] flex items-center w-full",i.modalContentPosition]),onClick:t[2]||(t[2]=(...e)=>s.clickAwayHandlder&&s.clickAwayHandlder(...e))},[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["rounded-md bg-white shadow-sm overflow-y-auto",["center"===a.modalPosition?"w-[80%]":"w-[40%] h-screen",a.modalClass]]),onClick:t[1]||(t[1]=Object(l["withModifiers"])(()=>{},["stop"]))},[Object(l["createElementVNode"])("div",o,[a.hideCloseButton?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",{key:0,class:"absolute clickEffectBtn right-1 top-1 cursor-pointer text-gray-300",onClick:t[0]||(t[0]=(...e)=>s.closeModal&&s.closeModal(...e))},n)),Object(l["renderSlot"])(e.$slots,"slotBody",{closeModal:s.closeModal})])],2)],2)):Object(l["createCommentVNode"])("",!0)}var s={props:{modalPosition:{type:String,default:"center",required:!0},closeOnClickAway:{type:Boolean,default:!0},hideCloseButton:{type:Boolean,default:!1},modalClass:{type:String}},data(){return{isOpen:!1,modalContentPosition:{"justify-center":"center"===this.modalPosition,"justify-end":"right"===this.modalPosition,"justify-start":"left"===this.modalPosition},modalContentMinWidth:{},externalData:void 0}},computed:{clickAwayHandlder(){return this.$props.closeOnClickAway?this.closeModal:null}},methods:{setExternalData(e){this.externalData=e},getExternalData(){return this.externalData},closeModal(){this.isOpen=!1},openModal(){this.isOpen=!0}}},c=a("d959"),d=a.n(c);const u=d()(s,[["render",i]]);t["a"]=u},"90a7":function(e,t,a){"use strict";var l=a("7a23");const o={class:"flex items-center gap-5"};function r(e,t,a,r,n,i){const s=Object(l["resolveComponent"])("GoBackBtn");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",o,[Object(l["createVNode"])(s),Object(l["createElementVNode"])("h1",null,[Object(l["renderSlot"])(e.$slots,"default")])])}const n=Object(l["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(l["createElementVNode"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 17l-5-5m0 0l5-5m-5 5h12"})],-1),i=[n];function s(e,t,a,o,r,n){return Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{class:"clickEffectBtn px-4 py-2",onClick:t[0]||(t[0]=t=>e.$router.back())},i)}var c={name:"GoBackBtn"},d=a("d959"),u=a.n(d);const b=u()(c,[["render",s]]);var m=b,p={name:"PageTitleWithGoBackButton",components:{GoBackBtn:m}};const j=u()(p,[["render",r]]);t["a"]=j},e19e:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var l=a("b7a4");function o(){const{alertIt:e}=Object(l["a"])(),t=t=>{var a,l,o,r,n,i,s,c,d,u,b;if(console.log({error:t},"UseErrorAlert"),"string"===typeof(null===t||void 0===t||null===(a=t.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message))e(null===t||void 0===t||null===(u=t.response)||void 0===u||null===(b=u.data)||void 0===b?void 0:b.message,"error");else if(null!==t&&void 0!==t&&null!==(o=t.response)&&void 0!==o&&o.data&&"string"!==typeof(null===t||void 0===t||null===(r=t.response)||void 0===r?void 0:r.data)&&null!==t&&void 0!==t&&null!==(n=t.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.messages)Object.values(t.response.data.messages).map(t=>{null!==t&&void 0!==t&&t.message&&e(t.message,"error")});else if(Array.isArray(null===t||void 0===t||null===(s=t.response)||void 0===s?void 0:s.data)){var m;null===t||void 0===t||null===(m=t.response)||void 0===m||m.data.map(t=>{e(t,"error")})}else null!==t&&void 0!==t&&null!==(c=t.response)&&void 0!==c&&c.data&&400===(null===t||void 0===t||null===(d=t.response)||void 0===d?void 0:d.status)?Object.values(t.response.data).map(t=>{"string"==typeof t?e(t,"error"):t.map(t=>e(t,"error"))}):e("Server bilan bog'liq xatolik yuz berdi.","error")};return{alertThisError:t}}}}]);
//# sourceMappingURL=chunk-4439106e.63cbada0.js.map