(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4439106e"],{"11fa":function(e,t,a){"use strict";a.r(t);a("14d9");var l=a("7a23"),r=a("8936"),o=a("90a7"),i=a("451b"),n=a("e19e"),s=a("b7a4"),c=a("7bb1"),d=a("506a"),u=a("5a0c"),b=a.n(u),m=a("2061"),p=a("1f2e");const j={class:"grid grid-cols-3 gap-3 w-full lg:w-[85%]"},O={class:"form_wrapper my-3"},v=Object(l["createElementVNode"])("label",{class:"input_label",for:"last_name"}," Familiyasi ",-1),f={class:"error_message"},g={class:"form_wrapper my-3"},h=Object(l["createElementVNode"])("label",{class:"input_label",for:"first_name"}," Ismi ",-1),y={class:"error_message"},k={class:"form_wrapper my-3"},w=Object(l["createElementVNode"])("label",{class:"input_label",for:"father_name"}," Sharifi ",-1),V={class:"error_message"},E={class:"form_wrapper my-3"},_=Object(l["createElementVNode"])("label",{class:"input_label"}," Tugâ€˜ilgan yili va sanasi ",-1),N={class:"error_message"},x={class:"form_wrapper my-3"},M=Object(l["createElementVNode"])("label",{class:"input_label",for:"login"}," Login ",-1),B={class:"error_message"},C={class:"form_wrapper my-3"},D=Object(l["createElementVNode"])("label",{class:"input_label",for:"father_name"}," Parol ",-1),S={class:"error_message"},F={class:"form_wrapper my-3"},q=Object(l["createElementVNode"])("label",{class:"input_label",for:"login"}," Elektron manzil ",-1),z={class:"error_message"},U=["disabled"];var P={__name:"EditWorkerForm",props:{initialFields:{type:Object},clearFormMode:{type:Boolean,default:!1},isEditMode:{type:Boolean,default:!1}},emits:["submit"],setup(e,{emit:t}){const a=e,{handleSubmit:r,isSubmitting:o,resetForm:i}=Object(c["b"])(),{clearFormMode:n}=Object(l["toRefs"])(a);function s({errors:e}){console.log(e)}Object(l["watch"])(()=>n.value,e=>{!0===e&&i()}),Object(l["watch"])(()=>a.initialFields,e=>{var t,l,r,o,i,n;(console.log(a.initialFields),a.initialFields)&&(P.value=null===(t=a.initialFields)||void 0===t?void 0:t.first_name,A.value=null===(l=a.initialFields)||void 0===l?void 0:l.last_name,$.value=null===(r=a.initialFields)||void 0===r?void 0:r.father_name,X.value=null===(o=a.initialFields)||void 0===o?void 0:o.login,L.value=null===(i=a.initialFields)||void 0===i?void 0:i.email,G.value=null===(n=a.initialFields)||void 0===n?void 0:n.birth_date)},{immediate:!0,deep:!0});const u=r(async({birth_date:e,...a})=>{const l={birth_date:b()(e).format("YYYY-MM-DD")};Object.keys(a).map(e=>{a[e]&&(l[e]=a[e])}),t("submit",l)},s),{value:P,errorMessage:T}=Object(c["a"])("first_name",d["g"]().test(...Object(m["a"])()).required(requiredValidatorMessage)),{value:A,errorMessage:R}=Object(c["a"])("last_name",d["g"]().test(...Object(m["a"])()).required(requiredValidatorMessage)),{value:$,errorMessage:I}=Object(c["a"])("father_name",d["g"]().test(...Object(m["a"])()).required(requiredValidatorMessage)),{value:G,errorMessage:W}=Object(c["a"])("birth_date",d["g"]().required(requiredValidatorMessage),{initialValue:new Date(1990,0,1)}),{value:Y,errorMessage:H}=Object(c["a"])("password",d["g"]().test(...Object(m["a"])())),{value:X,errorMessage:J}=Object(c["a"])("login",d["g"]().test(...Object(m["a"])()).required(requiredValidatorMessage)),{value:L,errorMessage:K}=Object(c["a"])("email",d["g"]().email("Email shaklida bo'lishi kerak").test(...Object(m["a"])()).required(requiredValidatorMessage));return(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("form",{onSubmit:t[7]||(t[7]=(...e)=>Object(l["unref"])(u)&&Object(l["unref"])(u)(...e))},[Object(l["createElementVNode"])("div",j,[Object(l["createElementVNode"])("div",O,[v,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"last_name","onUpdate:modelValue":t[0]||(t[0]=e=>Object(l["isRef"])(A)?A.value=e:null),name:"last_name",class:"base_input",placeholder:"Familiyasini kiriting"},null,512),[[l["vModelText"],Object(l["unref"])(A)]]),Object(l["createElementVNode"])("span",f,Object(l["toDisplayString"])(Object(l["unref"])(R)),1)]),Object(l["createElementVNode"])("div",g,[h,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"first_name","onUpdate:modelValue":t[1]||(t[1]=e=>Object(l["isRef"])(P)?P.value=e:null),name:"first_name",class:"base_input",placeholder:"Ismini kiriting"},null,512),[[l["vModelText"],Object(l["unref"])(P)]]),Object(l["createElementVNode"])("span",y,Object(l["toDisplayString"])(Object(l["unref"])(T)),1)]),Object(l["createElementVNode"])("div",k,[w,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"father_name","onUpdate:modelValue":t[2]||(t[2]=e=>Object(l["isRef"])($)?$.value=e:null),name:"father_name",class:"base_input",placeholder:"Sharifini kiriting"},null,512),[[l["vModelText"],Object(l["unref"])($)]]),Object(l["createElementVNode"])("span",V,Object(l["toDisplayString"])(Object(l["unref"])(I)),1)]),Object(l["createElementVNode"])("div",E,[_,Object(l["createVNode"])(Object(l["unref"])(p["a"]),{modelValue:Object(l["unref"])(G),"onUpdate:modelValue":t[3]||(t[3]=e=>Object(l["isRef"])(G)?G.value=e:null)},null,8,["modelValue"]),Object(l["createElementVNode"])("span",N,Object(l["toDisplayString"])(Object(l["unref"])(W)),1)]),Object(l["createElementVNode"])("div",x,[M,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"login","onUpdate:modelValue":t[4]||(t[4]=e=>Object(l["isRef"])(X)?X.value=e:null),name:"login",class:"base_input",placeholder:"loginni kiriting"},null,512),[[l["vModelText"],Object(l["unref"])(X)]]),Object(l["createElementVNode"])("span",B,Object(l["toDisplayString"])(Object(l["unref"])(J)),1)]),Object(l["createElementVNode"])("div",C,[D,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"password","onUpdate:modelValue":t[5]||(t[5]=e=>Object(l["isRef"])(Y)?Y.value=e:null),name:"password",class:"base_input",placeholder:"Parolmi kiriting"},null,512),[[l["vModelText"],Object(l["unref"])(Y)]]),Object(l["createElementVNode"])("span",S,Object(l["toDisplayString"])(Object(l["unref"])(H)),1)]),Object(l["createElementVNode"])("div",F,[q,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{id:"email","onUpdate:modelValue":t[6]||(t[6]=e=>Object(l["isRef"])(L)?L.value=e:null),name:"email",class:"base_input",placeholder:"Elektron manzilini kiriting"},null,512),[[l["vModelText"],Object(l["unref"])(L)]]),Object(l["createElementVNode"])("span",z,Object(l["toDisplayString"])(Object(l["unref"])(K)),1)])]),Object(l["createElementVNode"])("button",{type:"submit",disabled:Object(l["unref"])(o),class:"base_input bg-primary text-white border-primary"}," O'zgartirish ",8,U)],32))}};const T=P;var A=T,R=a("5c40"),$=a("6605");const I={class:"bg-white px-[20px] py-[16px]"},G={class:"p-2"},W=Object(l["createElementVNode"])("div",{class:"p-10 text-3xl flex items-center justify-center"},[Object(l["createElementVNode"])("h1",null,"Xodim markazga muvaffaqiyatli o'zgartirildi")],-1),Y={class:"flex justify-center"};var H={__name:"EditWorker",setup(e){const{alertThisError:t}=Object(n["a"])(),{alertIt:a}=Object(s["a"])(),c=Object($["c"])(),d=Object(l["ref"])(),u=Object(l["ref"])(),b=async e=>{try{const{message:t}=await i["a"].patch("/auth/userUpdateForApparat/"+c.params.id+"/",e);await a(t,"success"),d.value.openModal()}catch(l){t(l)}};return Object(R["ob"])(async()=>{const e=await i["a"].get("/auth/users/"+c.params.id);u.value=e.data}),(e,t)=>(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",I,[Object(l["createVNode"])(o["a"],null,{default:Object(l["withCtx"])(()=>[Object(l["createTextVNode"])(" Xodim o'zgartirish ")]),_:1}),Object(l["createElementVNode"])("section",G,[Object(l["createVNode"])(A,{"initial-fields":u.value,onSubmit:b},null,8,["initial-fields"])]),Object(l["createVNode"])(r["a"],{ref_key:"modalComponentRef",ref:d,"close-on-click-away":!1,"hide-close-button":!0,"modal-position":"center","modal-class":"!w-auto"},{slotBody:Object(l["withCtx"])(()=>[W,Object(l["createElementVNode"])("div",Y,[Object(l["createElementVNode"])("button",{class:"base_input border-primary bg-primary text-white mx-2 hover:opacity-80",onClick:t[0]||(t[0]=(...e)=>d.value.closeModal&&d.value.closeModal(...e))}," Davom etish "),Object(l["createElementVNode"])("button",{class:"base_input border-primary bg-primary text-white mx-2 hover:opacity-80",onClick:t[1]||(t[1]=t=>e.$router.push("/"))}," Bosh sahifa ")])]),_:1},512)]))}};const X=H;t["default"]=X},2061:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return r})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return n}));const l=({path:e})=>"Ushbu maydon to'ldirilishi shart",r=()=>"Xodimni belgilash zarur!",o=e=>`Ushbu maydon eng kami ${e.min} ta bo'lishi kerak`,i=e=>`Ushbu maydon eng ko'pi ${e.max} ta bo'lishi kerak`,n=e=>["is-latin","Iltimos faqat lotin harflaridan foydalaning",e=>{const t=/[^\P{L}a-z][^a-z]*/giu;return!t.test(e)}]},8936:function(e,t,a){"use strict";var l=a("7a23");const r={class:"relative py-10 px-4 max-h-screen overflow-auto"},o=Object(l["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(l["createElementVNode"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),i=[o];function n(e,t,a,o,n,s){return n.isOpen?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{key:0,class:Object(l["normalizeClass"])(["absolute inset-0 z-10 overflow-hidden bg-gray-800 bg-opacity-50 py-[50px] flex items-center w-full",n.modalContentPosition]),onClick:t[2]||(t[2]=(...e)=>s.clickAwayHandlder&&s.clickAwayHandlder(...e))},[Object(l["createElementVNode"])("div",{class:Object(l["normalizeClass"])(["rounded-md bg-white shadow-sm overflow-y-auto",["center"===a.modalPosition?"w-[80%]":"w-[40%] h-screen",a.modalClass]]),onClick:t[1]||(t[1]=Object(l["withModifiers"])(()=>{},["stop"]))},[Object(l["createElementVNode"])("div",r,[a.hideCloseButton?Object(l["createCommentVNode"])("",!0):(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",{key:0,class:"absolute clickEffectBtn right-1 top-1 cursor-pointer text-gray-300",onClick:t[0]||(t[0]=(...e)=>s.closeModal&&s.closeModal(...e))},i)),Object(l["renderSlot"])(e.$slots,"slotBody",{closeModal:s.closeModal})])],2)],2)):Object(l["createCommentVNode"])("",!0)}var s={props:{modalPosition:{type:String,default:"center",required:!0},closeOnClickAway:{type:Boolean,default:!0},hideCloseButton:{type:Boolean,default:!1},modalClass:{type:String}},data(){return{isOpen:!1,modalContentPosition:{"justify-center":"center"===this.modalPosition,"justify-end":"right"===this.modalPosition,"justify-start":"left"===this.modalPosition},modalContentMinWidth:{},externalData:void 0}},computed:{clickAwayHandlder(){return this.$props.closeOnClickAway?this.closeModal:null}},methods:{setExternalData(e){this.externalData=e},getExternalData(){return this.externalData},closeModal(){this.isOpen=!1},openModal(){this.isOpen=!0}}},c=a("d959"),d=a.n(c);const u=d()(s,[["render",n]]);t["a"]=u},"90a7":function(e,t,a){"use strict";var l=a("7a23");const r={class:"flex items-center gap-5"};function o(e,t,a,o,i,n){const s=Object(l["resolveComponent"])("GoBackBtn");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",r,[Object(l["createVNode"])(s),Object(l["createElementVNode"])("h1",null,[Object(l["renderSlot"])(e.$slots,"default")])])}const i=Object(l["createElementVNode"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(l["createElementVNode"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 17l-5-5m0 0l5-5m-5 5h12"})],-1),n=[i];function s(e,t,a,r,o,i){return Object(l["openBlock"])(),Object(l["createElementBlock"])("button",{class:"clickEffectBtn px-4 py-2",onClick:t[0]||(t[0]=t=>e.$router.back())},n)}var c={name:"GoBackBtn"},d=a("d959"),u=a.n(d);const b=u()(c,[["render",s]]);var m=b,p={name:"PageTitleWithGoBackButton",components:{GoBackBtn:m}};const j=u()(p,[["render",o]]);t["a"]=j},e19e:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var l=a("b7a4");function r(){const{alertIt:e}=Object(l["a"])(),t=t=>{var a,l,r,o,i,n,s,c,d,u,b;if(console.log({error:t},"UseErrorAlert"),"string"===typeof(null===t||void 0===t||null===(a=t.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message))e(null===t||void 0===t||null===(u=t.response)||void 0===u||null===(b=u.data)||void 0===b?void 0:b.message,"error");else if(null!==t&&void 0!==t&&null!==(r=t.response)&&void 0!==r&&r.data&&"string"!==typeof(null===t||void 0===t||null===(o=t.response)||void 0===o?void 0:o.data)&&null!==t&&void 0!==t&&null!==(i=t.response)&&void 0!==i&&null!==(n=i.data)&&void 0!==n&&n.messages)Object.values(t.response.data.messages).map(t=>{null!==t&&void 0!==t&&t.message&&e(t.message,"error")});else if(Array.isArray(null===t||void 0===t||null===(s=t.response)||void 0===s?void 0:s.data)){var m;null===t||void 0===t||null===(m=t.response)||void 0===m||m.data.map(t=>{e(t,"error")})}else null!==t&&void 0!==t&&null!==(c=t.response)&&void 0!==c&&c.data&&400===(null===t||void 0===t||null===(d=t.response)||void 0===d?void 0:d.status)?Object.values(t.response.data).map(t=>{"string"==typeof t?e(t,"error"):t.map(t=>e(t,"error"))}):e("Server bilan bog'liq xatolik yuz berdi.","error")};return{alertThisError:t}}}}]);
//# sourceMappingURL=chunk-4439106e.fffdf8c3.js.map