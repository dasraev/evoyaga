(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d66527c"],{"1a02":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("7a23"),i=a("4b59");function l(){const e=Object(n["ref"])([]),t=async()=>{const{data:t}=await i["a"].fetchSchoolTypes();e.value=t};return Object(n["onMounted"])(async()=>{await t()}),{schoolTypes:e}}},2061:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return i})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c}));const n=({path:e})=>"Ushbu maydon to'ldirilishi shart",i=()=>"Xodimni belgilash zarur!",l=e=>`Ushbu maydon eng kami ${e.min} ta bo'lishi kerak`,r=e=>`Ushbu maydon eng ko'pi ${e.max} ta bo'lishi kerak`,c=e=>["is-latin","Iltimos faqat lotin harflaridan foydalaning",e=>{const t=/[^\P{L}a-z][^a-z]*/giu;return!t.test(e)}]},"20dd":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),i=a("681a"),l=a("c399"),r=a("b7a4"),c=a("2e00"),s=a("6605"),o=a("89ed"),u=a("d905"),d=a("c28b"),b=a("e19e");const j={class:"bg-white p-3 rounded-md"},p={key:0,class:"my-4"},m=Object(n["createElementVNode"])("h1",{class:"text-2xl my-4"}," Tahrirlanayotgan bolaning shaxsiy ma'lumotlari ",-1),f={class:"flex"};var O={__name:"EditMonitoring",setup(e){const t=Object(n["ref"])(null),a=Object(n["ref"])(null),{clearForm:O,setClearForm:v}=Object(d["a"])(),_=Object(n["ref"])(!0),{alertIt:y}=Object(r["a"])(),{alertThisError:g}=Object(b["a"])(),{fetchJuvenileReportsInfoById:h}=o["a"],{fetchJuvenilesMonitoringInfo:w,editJuvenilesMonitoring:V}=u["a"],N=Object(s["c"])(),E=Object(n["ref"])(!1),k=()=>{E.value=!0};function x(){a.value=null,v(!0)}async function M(e){try{const{message:t}=(await V(e,a.value.id)).data;await y(t,"success"),x(),k()}catch(t){g(t)}}return Object(n["watch"])(()=>N.params.id,async e=>{var n;e&&(_.value=!0,t.value=null===(n=await w(N.params.id))||void 0===n?void 0:n.distributed_info,console.log(t.value),a.value=await h(N.params.id),_.value=!1)},{immediate:!0}),(e,r)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("section",j,[Object(n["createVNode"])(Object(n["unref"])(c["a"]),null,{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(" Monitoringdagi bolani tahrirlash ")]),_:1}),a.value?(Object(n["openBlock"])(),Object(n["createElementBlock"])("section",p,[m,Object(n["createElementVNode"])("div",f,[Object(n["createVNode"])(Object(n["unref"])(l["a"]),{"passport-info":a.value},null,8,["passport-info"])])])):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("section",null,[Object(n["createVNode"])(Object(n["unref"])(i["a"]),{"clear-form-mode":Object(n["unref"])(O),"initial-fields":t.value,onSubmit:M},null,8,["clear-form-mode","initial-fields"])])]))}};const v=O;t["default"]=v},"681a":function(e,t,a){"use strict";a("14d9");var n=a("7a23"),i=a("7bb1"),l=a("506a"),r=a("2061"),c=a("3241"),s=a("1517"),o=a("ceaa"),u=a("1a02"),d=a("4b59");function b(){const e=Object(n["ref"])([]),t=async()=>{const{data:t}=await d["a"].fetchMonitoringTypes();e.value=t};return Object(n["onMounted"])(async()=>{await t()}),{monitoringTypes:e}}var j=a("a5a1");function p(){const e=Object(n["ref"])([]),t=async()=>{const{data:t}=await d["a"].fetchCharactersList();e.value=t};return Object(n["onMounted"])(async()=>{await t()}),{charactersList:e,fetchCharactersList:t}}function m(){const e=Object(n["ref"])([]),t=async()=>{const{data:t}=await d["a"].fetchMasteryLevelList();e.value=t};return Object(n["onMounted"])(async()=>{await t()}),{masteryLevelList:e,fetchMasteryLevelList:t}}const f={class:"grid grid-cols-2 xl:grid-cols-3 gap-4 2xl:w-[60%]"},O={class:"form_wrapper my-3"},v=Object(n["createElementVNode"])("label",{class:"input_label",for:"monitoring_status"}," Monitoring holati ",-1),_={class:"error_message"},y={class:"form_wrapper my-3"},g=Object(n["createElementVNode"])("label",{class:"input_label",for:"speciality"},"Mutaxassisligi",-1),h={class:"error_message"},w={class:"form_wrapper my-3"},V=Object(n["createElementVNode"])("label",{class:"input_label",for:"school_type"}," Muassasa turi ",-1),N={class:"error_message"},E={class:"form_wrapper my-3"},k=Object(n["createElementVNode"])("label",{class:"input_label",for:"class_group"},"Sinfi/guruhi",-1),x={class:"error_message"},M={class:"form_wrapper my-3"},J=Object(n["createElementVNode"])("label",{class:"input_label",for:"class_leader"},"Sinfi/guruhi rahbari",-1),S={class:"error_message"},B={class:"form_wrapper my-3"},D=Object(n["createElementVNode"])("label",{class:"input_label",for:"address"},"Yashash joyi (yotoqxona manzili)",-1),L={class:"error_message"},T={class:"form_wrapper my-3"},I=Object(n["createElementVNode"])("label",{class:"input_label",for:"mastery"},"O‘zlashtirishi",-1),R={class:"error_message"},q={class:"form_wrapper my-3"},U=Object(n["createElementVNode"])("label",{class:"input_label",for:"character"},"Hulqi",-1),F={class:"error_message"},$={id:"deed_and_pictures",class:"form_wrapper my-3"},C=Object(n["createElementVNode"])("label",{class:"input_label"}," Asoslovchi o‘rganish dalolatnomasi va rasmlar ",-1),z=Object(n["createElementVNode"])("div",{class:"flex justify-between shadow rounded w-full"},[Object(n["createElementVNode"])("p",{class:"flex items-center text-gray-400 px-3 overflow-hidden overflow-ellipsis base_input border-none"},"Yuklang"),Object(n["createElementVNode"])("span",{class:"flex px-4 items-center justify-center rounded bg-primary text-white tracking-wide text-sm cursor-pointer"}," YUKLASH ")],-1),A={class:"error_message"},Y={class:"form_wrapper my-3"},H=Object(n["createElementVNode"])("label",{class:"input_label",for:"is_action_been_taken"}," MJtKning 47-moddasi bilan chora ko‘rildimi ",-1),K={class:"error_message"},P={key:0,id:"file_action_been_taken",class:"form_wrapper my-3"},X=Object(n["createElementVNode"])("label",{class:"input_label"}," Bayonnomani yuklang ",-1),G=Object(n["createElementVNode"])("div",{class:"flex justify-between shadow rounded w-full"},[Object(n["createElementVNode"])("p",{class:"flex items-center text-gray-400 px-3 overflow-hidden overflow-ellipsis base_input border-none"},"Yuklang"),Object(n["createElementVNode"])("span",{class:"flex px-4 items-center justify-center rounded bg-primary text-white tracking-wide text-sm cursor-pointer"}," YUKLASH ")],-1),Q={class:"error_message"},W=["disabled"],Z=["disabled"];var ee={__name:"MonitoringForm",props:{initialFields:{type:Object,default:function(){return null}},isEditMode:{type:Boolean,default:!1},clearFormMode:{type:Boolean,default:!1}},emits:["submit"],setup(e,{emit:t}){const a=e,{handleSubmit:d,isSubmitting:ee,resetForm:te}=Object(i["b"])(),{clearFormMode:ae}=Object(n["toRefs"])(a),{schoolTypes:ne}=Object(u["a"])(),{monitoringTypes:ie}=b(),{charactersList:le}=p(),{masteryLevelList:re}=m();function ce({values:e,errors:t,results:a}){console.log(Object.keys(t)[0])}Object(n["watch"])(()=>ae.value,e=>{!0===e&&te()});const se=d(async e=>{const a=new FormData,n=[];Object.entries(e).map(([e,t])=>{oe.value?(a.append(e,t),n.push({[e]:t})):"file_action_been_taken"!==e&&(a.append(e,t),n.push({[e]:t}))}),console.log(n),t("submit",a)},ce),oe=Object(n["computed"])(()=>Ve.value),{value:ue,errorMessage:de}=Object(i["a"])("speciality",l["g"]().test(...Object(r["a"])())),{value:be,errorMessage:je}=Object(i["a"])("monitoring_status",l["g"]().required(r["d"])),{value:pe,errorMessage:me}=Object(i["a"])("class_group",l["g"]().test(...Object(r["a"])()).required(r["d"])),{value:fe,errorMessage:Oe}=Object(i["a"])("class_leader",l["g"]().test(...Object(r["a"])()).required(r["d"])),{value:ve,errorMessage:_e}=Object(i["a"])("address",l["g"]().test(...Object(r["a"])()).required(r["d"])),{value:ye,errorMessage:ge}=Object(i["a"])("mastery",l["g"]().test(...Object(r["a"])()).required(r["d"])),{value:he,errorMessage:we}=Object(i["a"])("character",l["g"]().test(...Object(r["a"])()).required(r["d"])),{value:Ve,errorMessage:Ne}=Object(i["a"])("is_action_been_taken",l["b"]().required(r["d"])),Ee=Object(n["computed"])(()=>oe.value?l["d"]().nullable().required(r["d"]):l["d"]().nullable().notRequired());Object(n["watch"])(()=>oe.value,()=>{console.log(oe.value)});const{value:ke,errorMessage:xe}=Object(i["a"])("file_action_been_taken",Ee,{initialValue:null}),{value:Me,errorMessage:Je}=Object(i["a"])("deed_and_pictures",l["d"]().nullable().required(r["d"]),{initialValue:null}),{value:Se,errorMessage:Be}=Object(i["a"])("school_type",l["e"]().required(r["d"]));return(t,a)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("form",{onSubmit:a[11]||(a[11]=(...e)=>Object(n["unref"])(se)&&Object(n["unref"])(se)(...e))},[Object(n["createElementVNode"])("div",f,[Object(n["createElementVNode"])("div",O,[v,Object(n["createVNode"])(Object(n["unref"])(j["a"]),{id:"monitoring_status",modelValue:Object(n["unref"])(be),"onUpdate:modelValue":a[0]||(a[0]=e=>Object(n["isRef"])(be)?be.value=e:null),options:Object(n["unref"])(ie),"show-by":"text","track-by":"id",placeholder:"Turini tanlang"},null,8,["modelValue","options"]),Object(n["createElementVNode"])("span",_,Object(n["toDisplayString"])(Object(n["unref"])(je)),1)]),Object(n["createElementVNode"])("div",y,[g,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"speciality","onUpdate:modelValue":a[1]||(a[1]=e=>Object(n["isRef"])(ue)?ue.value=e:null),placeholder:"Mutaxassisligini kiriting",class:"base_input",name:"speciality",type:"text"},null,512),[[n["vModelText"],Object(n["unref"])(ue)]]),Object(n["createElementVNode"])("span",h,Object(n["toDisplayString"])(Object(n["unref"])(de)),1)]),Object(n["createElementVNode"])("div",w,[V,Object(n["createVNode"])(Object(n["unref"])(j["a"]),{id:"school_type",modelValue:Object(n["unref"])(Se),"onUpdate:modelValue":a[2]||(a[2]=e=>Object(n["isRef"])(Se)?Se.value=e:null),options:Object(n["unref"])(ne),"show-by":"text","track-by":"id",placeholder:"Turini tanlang"},null,8,["modelValue","options"]),Object(n["createElementVNode"])("span",N,Object(n["toDisplayString"])(Object(n["unref"])(Be)),1)]),Object(n["createElementVNode"])("div",E,[k,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"class_group","onUpdate:modelValue":a[3]||(a[3]=e=>Object(n["isRef"])(pe)?pe.value=e:null),placeholder:"Sinfi/guruhini kiriting",class:"base_input",name:"class_group",type:"text"},null,512),[[n["vModelText"],Object(n["unref"])(pe)]]),Object(n["createElementVNode"])("span",x,Object(n["toDisplayString"])(Object(n["unref"])(me)),1)]),Object(n["createElementVNode"])("div",M,[J,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"class_leader","onUpdate:modelValue":a[4]||(a[4]=e=>Object(n["isRef"])(fe)?fe.value=e:null),placeholder:"Sinf rahbari FIO kiriting",class:"base_input",name:"class_leader",type:"text"},null,512),[[n["vModelText"],Object(n["unref"])(fe)]]),Object(n["createElementVNode"])("span",S,Object(n["toDisplayString"])(Object(n["unref"])(Oe)),1)]),Object(n["createElementVNode"])("div",B,[D,Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{id:"address","onUpdate:modelValue":a[5]||(a[5]=e=>Object(n["isRef"])(ve)?ve.value=e:null),placeholder:"Yashash joyini kiriting",class:"base_input",name:"address",type:"text"},null,512),[[n["vModelText"],Object(n["unref"])(ve)]]),Object(n["createElementVNode"])("span",L,Object(n["toDisplayString"])(Object(n["unref"])(_e)),1)]),Object(n["createElementVNode"])("div",T,[I,Object(n["createVNode"])(Object(n["unref"])(j["a"]),{id:"mastery",modelValue:Object(n["unref"])(ye),"onUpdate:modelValue":a[6]||(a[6]=e=>Object(n["isRef"])(ye)?ye.value=e:null),options:Object(n["unref"])(re),"show-by":"text","track-by":"id",placeholder:"O‘zlashtirishini tanlang"},null,8,["modelValue","options"]),Object(n["createElementVNode"])("span",R,Object(n["toDisplayString"])(Object(n["unref"])(ge)),1)]),Object(n["createElementVNode"])("div",q,[U,Object(n["createVNode"])(Object(n["unref"])(j["a"]),{id:"character",modelValue:Object(n["unref"])(he),"onUpdate:modelValue":a[7]||(a[7]=e=>Object(n["isRef"])(he)?he.value=e:null),options:Object(n["unref"])(le),"show-by":"text","track-by":"id",placeholder:"Hulqini tanlang"},null,8,["modelValue","options"]),Object(n["createElementVNode"])("span",F,Object(n["toDisplayString"])(Object(n["unref"])(we)),1)]),Object(n["createElementVNode"])("div",$,[C,Object(n["createVNode"])(Object(n["unref"])(o["a"]),{id:"deed_and_pictures1",files:Object(n["unref"])(Me),"onUpdate:files":a[8]||(a[8]=e=>Object(n["isRef"])(Me)?Me.value=e:null),"multiple-files":!1},{icon:Object(n["withCtx"])(()=>[z]),_:1},8,["files"]),Object(n["createElementVNode"])("span",A,Object(n["toDisplayString"])(Object(n["unref"])(Je)),1)]),Object(n["createElementVNode"])("div",Y,[H,Object(n["createVNode"])(Object(n["unref"])(c["a"]),{id:"is_action_been_taken","selected-item":Object(n["unref"])(Ve),"onUpdate:selected-item":a[9]||(a[9]=e=>Object(n["isRef"])(Ve)?Ve.value=e:null),titles:Object(n["unref"])(s["c"])},null,8,["selected-item","titles"]),Object(n["createElementVNode"])("span",K,Object(n["toDisplayString"])(Object(n["unref"])(Ne)),1)]),Object(n["unref"])(oe)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",P,[X,Object(n["createVNode"])(Object(n["unref"])(o["a"]),{id:"file_action_been_taken1",files:Object(n["unref"])(ke),"onUpdate:files":a[10]||(a[10]=e=>Object(n["isRef"])(ke)?ke.value=e:null),"multiple-files":!1},{icon:Object(n["withCtx"])(()=>[G]),_:1},8,["files"]),Object(n["createElementVNode"])("span",Q,Object(n["toDisplayString"])(Object(n["unref"])(xe)),1)])):Object(n["createCommentVNode"])("",!0)]),e.isEditMode?(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:0,class:"px-3 m-2 py-2 border bg-primary text-white rounded-md",type:"submit",disabled:Object(n["unref"])(ee)},"Tahrirlashni tugatish",8,W)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:1,class:"px-3 m-2 py-2 border bg-primary text-white rounded-md",type:"submit",disabled:Object(n["unref"])(ee)},"Saqlash",8,Z))],32))}};const te=ee;t["a"]=te},"89ed":function(e,t,a){"use strict";var n=a("451b");const i={async fetchJuvenileById(e){const{data:t}=await n["a"].get(`/api/juvenile/juveniles/${e}/`);return t},async fetchJuvenileInfoDetailById(e){const{data:t}=await n["a"].get(`/api/juvenile/juveniles/${e}/juvenile_info_detail/`);return t},async fetchJuvenilesList(e={}){return(await n["a"].get("/api/juvenile/juveniles/",{params:e})).data},async fetchJuvenileReportsList(e={}){return(await n["a"].get("/api/juvenile/reports/",{params:{...e}})).data},async fetchJuvenileReportById(e){const{data:t}=await n["a"].get(`/api/juvenile/is_filled/${e}/`);return t},async fetchJuvenileReportsInfoById(e){const{data:t}=await n["a"].get("/api/juvenile/reports/"+e);return t},async fetchAcceptedJuvenilesInfo(e){const{data:t}=await n["a"].get(`/api/juvenile/accepted_for_edit/${e}/`);return t},async acceptJuvenileToCenter(e,t){return await n["a"].post("/api/juvenile/juveniles/accept_juvenile/",t,{params:{juvenile_id:e}})},async createAvailableJuvenile(e){return await n["a"].post("/api/juvenile/juveniles/create_available_juvenile/?juvenile_id="+e)},async updateJuvenile(e,t){return await n["a"].put("/api/juvenile/juveniles/"+t,e)},async createJuvenilePersonalInfo(e){return await n["a"].post("/api/juvenile/juveniles/",e)},async createJuvenileAddressInfo(e,t){return await n["a"].post(`/api/juvenile/juveniles/${e}/juvenile_addressinfo_create_or_update/`,t)},async createJuvenileEducationInfo(e,t){return await n["a"].post(`/api/juvenile/juveniles/${e}/juvenile_educationinfo_create_or_update/`,t)},async getDeterminedJuvenilesList(e){const t=(await n["a"].get("/api/juvenile/juveniles/incomplete_juveniles/",{params:e})).data,a=t.results.map(e=>{var t,a,n,i;return{birth_date:null===(t=e.personal_info)||void 0===t?void 0:t.birth_date,father_name:null===(a=e.personal_info)||void 0===a?void 0:a.father_name,first_name:null===(n=e.personal_info)||void 0===n?void 0:n.first_name,last_name:null===(i=e.personal_info)||void 0===i?void 0:i.last_name,...e}});return{...t,results:a}},async getNotDefinedJuvenilesList(e){return(await n["a"].get("/api/juvenile/juveniles/unidentified_juveniles",{params:e})).data},async delete_incomplete_juvenile(e){return await n["a"].delete(`/api/juvenile/juveniles/${e}/delete_incomplete_juvenile/`)},async delete_unidentified_juvenile(e){return await n["a"].delete(`/api/juvenile/juveniles/${e}/delete_unidentified_juvenile/`)}};t["a"]=i},c28b:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("7a23");function i(){const e=Object(n["ref"])(!1),t=t=>e.value=t;return{clearForm:e,setClearForm:t}}},d905:function(e,t,a){"use strict";var n=a("451b");const i={async fetchJuvenilesMonitoringInfo(e){const{data:t}=await n["a"].get(`/api/juvenile/monitoring_for_edit/${e}/`);return t},async editJuvenilesMonitoring(e,t){return await n["a"].patch("/api/juvenile/monitoring_for_edit",e,{params:{juvenile_id:t}})},async addJuvenileToMonitoring(e,t){return await n["a"].post("/api/juvenile/juveniles/add_monitoring_info/",e,{params:{juvenile_id:t}})}};t["a"]=i}}]);
//# sourceMappingURL=chunk-4d66527c.9c3ba5dd.js.map